<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>22365_3_Prompt Engineering_v7.pdf</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="generator" content="pdftohtml 0.36"/>
<meta name="date" content="2025-03-17T13:40:26+00:00"/>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<!-- Page 1 -->
<a name="1"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:108px;font-family:WGJRYK+GoogleSans;color:#202124;}
	.ft01{font-size:27px;font-family:WGJRYK+GoogleSansText;color:#80868b;}
-->
</style>
<div id="page1-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf001.png" alt="background image"/>
<p style="position:absolute;top:191px;left:54px;white-space:nowrap" class="ft00"><b>Prompt&#160;&#160;</b></p>
<p style="position:absolute;top:296px;left:54px;white-space:nowrap" class="ft00"><b>Engineering</b></p>
<p style="position:absolute;top:462px;left:54px;white-space:nowrap" class="ft01"><b>Author:&#160;Lee&#160;Boonstra</b></p>
</div>
<!-- Page 2 -->
<a name="2"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft02{font-size:12px;font-family:ZENJOE+GoogleSansText-Medium;color:#80868b;}
	.ft03{font-size:21px;font-family:WGJRYK+GoogleSans;color:#202124;}
	.ft04{font-size:18px;font-family:WGJRYK+GoogleSans;color:#80868b;}
	.ft05{font-size:17px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page2-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf002.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:803px;white-space:nowrap" class="ft02">2</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft03"><b>Acknowledgements</b></p>
<p style="position:absolute;top:255px;left:108px;white-space:nowrap" class="ft04"><b>Content&#160;contributors</b></p>
<p style="position:absolute;top:295px;left:108px;white-space:nowrap" class="ft05">Michael Sherman</p>
<p style="position:absolute;top:330px;left:108px;white-space:nowrap" class="ft05">Yuan Cao</p>
<p style="position:absolute;top:366px;left:108px;white-space:nowrap" class="ft05">Erick&#160;Armbrust</p>
<p style="position:absolute;top:401px;left:108px;white-space:nowrap" class="ft05">Anant Nawalgaria</p>
<p style="position:absolute;top:437px;left:108px;white-space:nowrap" class="ft05">Antonio&#160;Gulli</p>
<p style="position:absolute;top:472px;left:108px;white-space:nowrap" class="ft05">Simone Cammel</p>
<p style="position:absolute;top:535px;left:108px;white-space:nowrap" class="ft04"><b>Curators&#160;and&#160;Editors</b></p>
<p style="position:absolute;top:574px;left:108px;white-space:nowrap" class="ft05">Antonio&#160;Gulli</p>
<p style="position:absolute;top:610px;left:108px;white-space:nowrap" class="ft05">Anant Nawalgaria</p>
<p style="position:absolute;top:645px;left:108px;white-space:nowrap" class="ft05">Grace Mollison&#160;</p>
<p style="position:absolute;top:708px;left:108px;white-space:nowrap" class="ft04"><b>Technical&#160;Writer</b></p>
<p style="position:absolute;top:748px;left:108px;white-space:nowrap" class="ft05">Joey Haymaker</p>
<p style="position:absolute;top:810px;left:108px;white-space:nowrap" class="ft04"><b>Designer</b></p>
<p style="position:absolute;top:850px;left:108px;white-space:nowrap" class="ft05">Michael&#160;Lanning&#160;</p>
</div>
<!-- Page 3 -->
<a name="3"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft06{font-size:17px;font-family:ZENJOE+GoogleSansText-Medium;color:#202124;}
	.ft07{font-size:17px;font-family:WGJRYK+GoogleSansText;color:#202124;}
	.ft08{font-size:17px;font-family:WGJRYK+GoogleSansText-Medium;color:#202124;}
-->
</style>
<div id="page3-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf003.png" alt="background image"/>
<p style="position:absolute;top:296px;left:108px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#6">Introduction</a></p>
<p style="position:absolute;top:296px;left:204px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#6"><b>&#160;</b></a></p>
<p style="position:absolute;top:296px;left:800px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#6">6</a></p>
<p style="position:absolute;top:329px;left:108px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#7">Prompt&#160;engineering</a></p>
<p style="position:absolute;top:329px;left:262px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#7"><b>&#160;</b></a></p>
<p style="position:absolute;top:329px;left:801px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#7">7</a></p>
<p style="position:absolute;top:363px;left:108px;white-space:nowrap" class="ft08"><a href="22365_3_Prompt Engineering_v7.pdf.html#8">LLM output configuration</a></p>
<p style="position:absolute;top:363px;left:307px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#8"><b>&#160;</b></a></p>
<p style="position:absolute;top:363px;left:801px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#8">8</a></p>
<p style="position:absolute;top:397px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#8">Output&#160;length<b>&#160;</b></a></p>
<p style="position:absolute;top:397px;left:801px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#8">8</a></p>
<p style="position:absolute;top:431px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#9">Sampling controls<b>&#160;</b></a></p>
<p style="position:absolute;top:431px;left:801px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#9">9</a></p>
<p style="position:absolute;top:464px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#9">Temperature<b>&#160;</b></a></p>
<p style="position:absolute;top:464px;left:801px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#9">9</a></p>
<p style="position:absolute;top:498px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#10">Top-K and top-P<b>&#160;</b></a></p>
<p style="position:absolute;top:498px;left:793px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#10">10</a></p>
<p style="position:absolute;top:532px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#11">Putting it all together<b>&#160;</b></a></p>
<p style="position:absolute;top:532px;left:798px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#11">11</a></p>
<p style="position:absolute;top:566px;left:108px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#13">Prompting&#160;techniques</a></p>
<p style="position:absolute;top:566px;left:280px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#13"><b>&#160;</b></a></p>
<p style="position:absolute;top:566px;left:794px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#13">13</a></p>
<p style="position:absolute;top:599px;left:133px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#13">General prompting / zero shot<b>&#160;</b></a></p>
<p style="position:absolute;top:599px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#13">13</a></p>
<p style="position:absolute;top:633px;left:133px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#15">One-shot&#160;&amp;&#160;few-shot<b>&#160;</b></a></p>
<p style="position:absolute;top:633px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#15">15</a></p>
<p style="position:absolute;top:667px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#18">System, contextual and role prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:667px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#18">18</a></p>
<p style="position:absolute;top:701px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#19">System&#160;prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:701px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#19">19</a></p>
<p style="position:absolute;top:734px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#21">Role prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:734px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#21">21</a></p>
<p style="position:absolute;top:768px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#23">Contextual prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:768px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#23">23</a></p>
<p style="position:absolute;top:196px;left:108px;white-space:nowrap" class="ft01"><b>Table&#160;of&#160;contents</b></p>
</div>
<!-- Page 4 -->
<a name="4"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page4-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf004.png" alt="background image"/>
<p style="position:absolute;top:197px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#25">Step-back&#160;prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:197px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#25">25</a></p>
<p style="position:absolute;top:230px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#29">Chain of Thought (CoT)<b>&#160;</b></a></p>
<p style="position:absolute;top:230px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#29">29</a></p>
<p style="position:absolute;top:264px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#32">Self-consistency<b>&#160;</b></a></p>
<p style="position:absolute;top:264px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#32">32</a></p>
<p style="position:absolute;top:298px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#36">Tree of Thoughts (ToT)<b>&#160;</b></a></p>
<p style="position:absolute;top:298px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#36">36</a></p>
<p style="position:absolute;top:332px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#37">ReAct (reason &amp; act)<b>&#160;</b></a></p>
<p style="position:absolute;top:332px;left:793px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#37">37</a></p>
<p style="position:absolute;top:365px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#40">Automatic Prompt Engineering<b>&#160;</b></a></p>
<p style="position:absolute;top:365px;left:789px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#40">40</a></p>
<p style="position:absolute;top:399px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#42">Code&#160;prompting<b>&#160;</b></a></p>
<p style="position:absolute;top:399px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#42">42</a></p>
<p style="position:absolute;top:433px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#42">Prompts for writing code<b>&#160;</b></a></p>
<p style="position:absolute;top:433px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#42">42</a></p>
<p style="position:absolute;top:467px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#44">Prompts&#160;for&#160;explaining&#160;code<b>&#160;</b></a></p>
<p style="position:absolute;top:467px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#44">44</a></p>
<p style="position:absolute;top:500px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#46">Prompts for translating code<b>&#160;</b></a></p>
<p style="position:absolute;top:500px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#46">46</a></p>
<p style="position:absolute;top:534px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#48">Prompts for debugging and reviewing code<b>&#160;</b></a></p>
<p style="position:absolute;top:534px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#48">48</a></p>
<p style="position:absolute;top:568px;left:159px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">What about multimodal prompting?<b>&#160;</b></a></p>
<p style="position:absolute;top:568px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">54</a></p>
<p style="position:absolute;top:602px;left:108px;white-space:nowrap" class="ft08"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">Best&#160;Practices</a></p>
<p style="position:absolute;top:602px;left:221px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#54"><b>&#160;</b></a></p>
<p style="position:absolute;top:602px;left:790px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">54</a></p>
<p style="position:absolute;top:635px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">Provide examples<b>&#160;</b></a></p>
<p style="position:absolute;top:635px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#54">54</a></p>
<p style="position:absolute;top:669px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#55">Design&#160;with&#160;simplicity<b>&#160;</b></a></p>
<p style="position:absolute;top:669px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#55">55</a></p>
<p style="position:absolute;top:703px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#56">Be specific about the output<b>&#160;</b></a></p>
<p style="position:absolute;top:703px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#56">56</a></p>
<p style="position:absolute;top:736px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#56">Use Instructions over Constraints<b>&#160;</b></a></p>
<p style="position:absolute;top:736px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#56">56</a></p>
<p style="position:absolute;top:770px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#58">Control&#160;the&#160;max&#160;token&#160;length<b>&#160;</b></a></p>
<p style="position:absolute;top:770px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#58">58</a></p>
<p style="position:absolute;top:804px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#58">Use variables in prompts<b>&#160;</b></a></p>
<p style="position:absolute;top:804px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#58">58</a></p>
<p style="position:absolute;top:838px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#59">Experiment with input formats and writing styles<b>&#160;</b></a></p>
<p style="position:absolute;top:838px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#59">59</a></p>
<p style="position:absolute;top:871px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#59">For few-shot prompting with classification tasks, mix up the classes<b>&#160;</b></a></p>
<p style="position:absolute;top:871px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#59">59</a></p>
<p style="position:absolute;top:905px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#60">Adapt to model updates<b>&#160;</b></a></p>
<p style="position:absolute;top:905px;left:790px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#60">60</a></p>
<p style="position:absolute;top:939px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#60">Experiment&#160;with&#160;output&#160;formats<b>&#160;</b></a></p>
<p style="position:absolute;top:939px;left:790px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#60">60</a></p>
</div>
<!-- Page 5 -->
<a name="5"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page5-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf005.png" alt="background image"/>
<p style="position:absolute;top:197px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#61">JSON&#160;Repair<b>&#160;</b></a></p>
<p style="position:absolute;top:197px;left:795px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#61">61</a></p>
<p style="position:absolute;top:230px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#62">Working&#160;with&#160;Schemas<b>&#160;</b></a></p>
<p style="position:absolute;top:230px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#62">62</a></p>
<p style="position:absolute;top:264px;left:134px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#63">Experiment&#160;together&#160;with&#160;other&#160;prompt&#160;engineers<b>&#160;</b></a></p>
<p style="position:absolute;top:264px;left:792px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#63">63</a></p>
<p style="position:absolute;top:298px;left:133px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#64">CoT&#160;Best&#160;practices<b>&#160;</b></a></p>
<p style="position:absolute;top:298px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#64">64</a></p>
<p style="position:absolute;top:332px;left:133px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#64">Document the various prompt attempts<b>&#160;</b></a></p>
<p style="position:absolute;top:332px;left:791px;white-space:nowrap" class="ft05"><a href="22365_3_Prompt Engineering_v7.pdf.html#64">64</a></p>
<p style="position:absolute;top:365px;left:108px;white-space:nowrap" class="ft08"><a href="22365_3_Prompt Engineering_v7.pdf.html#66">Summary</a></p>
<p style="position:absolute;top:365px;left:182px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#66"><b>&#160;</b></a></p>
<p style="position:absolute;top:365px;left:791px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#66">66</a></p>
<p style="position:absolute;top:399px;left:108px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#68">Endnotes</a></p>
<p style="position:absolute;top:399px;left:181px;white-space:nowrap" class="ft07"><a href="22365_3_Prompt Engineering_v7.pdf.html#68"><b>&#160;</b></a></p>
<p style="position:absolute;top:399px;left:791px;white-space:nowrap" class="ft06"><a href="22365_3_Prompt Engineering_v7.pdf.html#68">68</a></p>
</div>
<!-- Page 6 -->
<a name="6"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft09{font-size:36px;font-family:WGJRYK+GoogleSans;color:#202124;}
	.ft010{font-size:42px;font-family:WGJRYK+GoogleSans;color:#80868b;}
	.ft011{font-size:17px;line-height:26px;font-family:WGJRYK+GoogleSansText;color:#202124;}
	.ft012{font-size:42px;line-height:50px;font-family:WGJRYK+GoogleSans;color:#80868b;}
-->
</style>
<div id="page6-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf006.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:803px;white-space:nowrap" class="ft02">6</p>
<p style="position:absolute;top:594px;left:108px;white-space:nowrap" class="ft09"><b>Introduction</b></p>
<p style="position:absolute;top:665px;left:108px;white-space:nowrap" class="ft011">When thinking about a large language model input and output, a text prompt (sometimes&#160;<br/>accompanied by other modalities such as image prompts) is the input the model uses&#160;<br/>to predict a specific output. You don’t need to be a data scientist or a machine learning&#160;<br/>engineer – everyone can write a prompt. However, crafting the most effective prompt can be&#160;<br/>complicated. Many aspects of your prompt affect its efficacy: the model you use, the model’s&#160;<br/>training data, the model configurations, your word-choice, style and tone, structure, and&#160;<br/>context all matter. Therefore, prompt engineering is an iterative process. Inadequate prompts&#160;<br/>can lead to ambiguous, inaccurate responses, and can hinder the model’s ability to provide&#160;<br/>meaningful&#160;output.</p>
<p style="position:absolute;top:299px;left:162px;white-space:nowrap" class="ft012">You don’t need to be a data&#160;<br/>scientist&#160;or&#160;a&#160;machine&#160;learning&#160;<br/>engineer – everyone can write&#160;<br/>a&#160;prompt.</p>
</div>
<!-- Page 7 -->
<a name="7"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft013{font-size:10px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page7-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf007.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:804px;white-space:nowrap" class="ft02">7</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">When you chat with the Gemini chatbot,</p>
<p style="position:absolute;top:198px;left:407px;white-space:nowrap" class="ft013">1</p>
<p style="position:absolute;top:197px;left:411px;white-space:nowrap" class="ft05">&#160;you basically write prompts, however this&#160;</p>
<p style="position:absolute;top:224px;left:108px;white-space:nowrap" class="ft011">whitepaper focuses on writing prompts for the Gemini model within Vertex AI or by using&#160;&#160;<br/>the API, because by prompting the model directly you will have access to the configuration&#160;<br/>such as temperature etc.</p>
<p style="position:absolute;top:332px;left:108px;white-space:nowrap" class="ft011">This whitepaper discusses prompt engineering in detail. We will look into the various&#160;<br/>prompting techniques to help you getting started and share tips and best practices to&#160;<br/>become a prompting expert. We will also discuss some of the challenges you can face&#160;&#160;<br/>while crafting prompts.</p>
<p style="position:absolute;top:488px;left:108px;white-space:nowrap" class="ft09"><b>Prompt&#160;engineering</b></p>
<p style="position:absolute;top:560px;left:108px;white-space:nowrap" class="ft011">Remember how an LLM works; it’s a prediction engine. The model takes sequential text as&#160;<br/>an input and then predicts what the following token should be, based on the data it was&#160;<br/>trained on. The LLM is operationalized to do this over and over again, adding the previously&#160;<br/>predicted token to the end of the sequential text for predicting the following token. The next&#160;<br/>token prediction is based on the relationship between what’s in the previous tokens and what&#160;<br/>the LLM has seen during its training.&#160;</p>
<p style="position:absolute;top:749px;left:108px;white-space:nowrap" class="ft011">When you write a prompt, you are attempting to set up the LLM to predict the right sequence&#160;<br/>of tokens. Prompt engineering is the process of designing high-quality prompts that guide&#160;<br/>LLMs to produce accurate outputs. This process involves tinkering to find the best prompt,&#160;<br/>optimizing prompt length, and evaluating a prompt’s writing style and structure in relation&#160;<br/>to the task. In the context of natural language processing and LLMs, a prompt is an input&#160;<br/>provided to the model to generate a response or prediction.</p>
</div>
<!-- Page 8 -->
<a name="8"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft014{font-size:24px;font-family:WGJRYK+GoogleSans;color:#202124;}
-->
</style>
<div id="page8-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf008.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:803px;white-space:nowrap" class="ft02">8</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">These prompts can be used to achieve various kinds of understanding and generation&#160;<br/>tasks such as text summarization, information extraction, question and answering, text&#160;<br/>classification, language or code translation, code generation, and code documentation&#160;<br/>or&#160;reasoning.</p>
<p style="position:absolute;top:332px;left:108px;white-space:nowrap" class="ft05">Please feel free to refer to Google’s prompting guides</p>
<p style="position:absolute;top:333px;left:512px;white-space:nowrap" class="ft013">2,3</p>
<p style="position:absolute;top:332px;left:526px;white-space:nowrap" class="ft05">&#160;with simple and effective&#160;</p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft05">prompting examples.</p>
<p style="position:absolute;top:413px;left:108px;white-space:nowrap" class="ft011">When prompt engineering, you will start by choosing a model. Prompts might need to be&#160;<br/>optimized for your specific model, regardless of whether you use Gemini language models in&#160;<br/>Vertex AI, GPT, Claude, or an open source model like Gemma or LLaMA.</p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft05">Besides the prompt, you will also need to tinker with the various configurations of a LLM.</p>
<p style="position:absolute;top:596px;left:108px;white-space:nowrap" class="ft09"><b>LLM&#160;output&#160;configuration</b></p>
<p style="position:absolute;top:668px;left:108px;white-space:nowrap" class="ft011">Once you choose your model you will need to figure out the model configuration. Most LLMs&#160;<br/>come with various configuration options that control the LLM’s output. Effective prompt&#160;<br/>engineering requires setting these configurations optimally for your task.</p>
<p style="position:absolute;top:797px;left:108px;white-space:nowrap" class="ft014"><b>Output&#160;length</b></p>
<p style="position:absolute;top:857px;left:108px;white-space:nowrap" class="ft011">An important configuration setting is the number of tokens to generate in a response.&#160;<br/>Generating more tokens requires more computation from the LLM, leading to higher energy&#160;<br/>consumption, potentially slower response times, and higher costs.</p>
</div>
<!-- Page 9 -->
<a name="9"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page9-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf009.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:803px;white-space:nowrap" class="ft02">9</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Reducing the output length of the LLM doesn’t cause the LLM to become more stylistically&#160;<br/>or textually succinct in the output it creates, it just causes the LLM to stop predicting more&#160;<br/>tokens once the limit is reached. If your needs require a short output length, you’ll also&#160;<br/>possibly need to engineer your prompt to accommodate.</p>
<p style="position:absolute;top:332px;left:108px;white-space:nowrap" class="ft011">Output length restriction is especially important for some LLM prompting techniques, like&#160;<br/>ReAct, where the LLM will keep emitting useless tokens after the response you want.</p>
<p style="position:absolute;top:413px;left:108px;white-space:nowrap" class="ft011">Be aware, generating more tokens requires more computation from the LLM, leading&#160;<br/>to higher energy consumption and potentially slower response times, which leads to&#160;<br/>higher&#160;costs.</p>
<p style="position:absolute;top:542px;left:108px;white-space:nowrap" class="ft014"><b>Sampling&#160;controls</b></p>
<p style="position:absolute;top:602px;left:108px;white-space:nowrap" class="ft011">LLMs do not formally predict a single token. Rather, LLMs predict probabilities for what the&#160;<br/>next token could be, with each token in the LLM’s vocabulary getting a probability. Those&#160;<br/>token probabilities are then sampled to determine what the next produced token will be.&#160;<br/>Temperature, top-K, and top-P are the most common configuration settings that determine&#160;<br/>how predicted token probabilities are processed to choose a single output token.</p>
<p style="position:absolute;top:788px;left:108px;white-space:nowrap" class="ft03"><b>Temperature</b></p>
<p style="position:absolute;top:845px;left:108px;white-space:nowrap" class="ft011">Temperature controls the degree of randomness in token selection. Lower temperatures&#160;<br/>are good for prompts that expect a more deterministic response, while higher temperatures&#160;<br/>can lead to more diverse or unexpected results. A temperature of 0 (greedy decoding) is&#160;</p>
</div>
<!-- Page 10 -->
<a name="10"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page10-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf010.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">10</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">deterministic: the highest probability token is always selected (though note that if two tokens&#160;<br/>have the same highest predicted probability, depending on how tiebreaking is implemented&#160;<br/>you may not always get the same output with temperature 0).</p>
<p style="position:absolute;top:305px;left:108px;white-space:nowrap" class="ft011">Temperatures close to the max tend to create more random output. And as temperature gets&#160;<br/>higher and higher, all tokens become equally likely to be the next predicted token.</p>
<p style="position:absolute;top:386px;left:108px;white-space:nowrap" class="ft011">The Gemini temperature control can be understood in a similar way to the softmax function&#160;<br/>used in machine learning. A low temperature setting mirrors a low softmax temperature (T),&#160;<br/>emphasizing&#160;a&#160;single,&#160;preferred&#160;temperature&#160;with&#160;high&#160;certainty.&#160;A&#160;higher&#160;Gemini&#160;temperature&#160;<br/>setting is like a high softmax temperature, making a wider range of temperatures around&#160;<br/>the selected setting more acceptable. This increased uncertainty accommodates scenarios&#160;<br/>where a rigid, precise temperature may not be essential like for example when experimenting&#160;<br/>with&#160;creative&#160;outputs.</p>
<p style="position:absolute;top:626px;left:108px;white-space:nowrap" class="ft03"><b>Top-K&#160;and&#160;top-P</b></p>
<p style="position:absolute;top:683px;left:108px;white-space:nowrap" class="ft05">Top-K and top-P (also known as nucleus sampling)</p>
<p style="position:absolute;top:684px;left:487px;white-space:nowrap" class="ft013">4</p>
<p style="position:absolute;top:683px;left:493px;white-space:nowrap" class="ft05">&#160;are two sampling settings used in LLMs&#160;</p>
<p style="position:absolute;top:710px;left:108px;white-space:nowrap" class="ft011">to restrict the predicted next token to come from tokens with the top predicted probabilities.&#160;&#160;<br/>Like temperature, these sampling settings control the randomness and diversity of&#160;<br/>generated&#160;text.</p>
<p style="position:absolute;top:804px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Top-K</b>&#160;sampling selects the top K most likely tokens from the model’s predicted&#160;</p>
<p style="position:absolute;top:831px;left:129px;white-space:nowrap" class="ft011">distribution. The higher top-K, the more creative and varied the model’s output; the&#160;<br/>lower top-K, the more restive and factual the model’s output. A top-K of 1 is equivalent to&#160;<br/>greedy&#160;decoding.</p>
</div>
<!-- Page 11 -->
<a name="11"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page11-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf011.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:800px;white-space:nowrap" class="ft02">11</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Top-P</b>&#160;sampling selects the top tokens whose cumulative probability does not exceed&#160;</p>
<p style="position:absolute;top:224px;left:129px;white-space:nowrap" class="ft011">a certain value (P). Values for P range from 0 (greedy decoding) to 1 (all tokens in the&#160;<br/>LLM’s vocabulary).</p>
<p style="position:absolute;top:305px;left:108px;white-space:nowrap" class="ft011">The best way to choose between top-K and top-P is to experiment with both methods (or&#160;<br/>both together) and see which one produces the results you are looking for.&#160;</p>
<p style="position:absolute;top:464px;left:108px;white-space:nowrap" class="ft03"><b>Putting it all together</b></p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">Choosing between top-K, top-P, temperature, and the number of tokens to generate,&#160;<br/>depends on the specific application and desired outcome, and the settings all impact one&#160;<br/>another. It’s also important to make sure you understand how your chosen model combines&#160;<br/>the different sampling settings together.</p>
<p style="position:absolute;top:656px;left:108px;white-space:nowrap" class="ft011">If temperature, top-K, and top-P are all available (as in Vertex Studio), tokens that meet&#160;<br/>both the top-K and top-P criteria are candidates for the next predicted token, and then&#160;<br/>temperature is applied to sample from the tokens that passed the top-K and top-P criteria. If&#160;<br/>only top-K or top-P is available, the behavior is the same but only the one top-K or P setting&#160;<br/>is used.&#160;</p>
<p style="position:absolute;top:818px;left:108px;white-space:nowrap" class="ft011">If temperature is not available, whatever tokens meet the top-K and/or top-P criteria are then&#160;<br/>randomly selected from to produce a single next predicted token.</p>
<p style="position:absolute;top:899px;left:108px;white-space:nowrap" class="ft011">At extreme settings of one sampling configuration value, that one sampling setting either&#160;<br/>cancels out other configuration settings or becomes irrelevant.</p>
</div>
<!-- Page 12 -->
<a name="12"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page12-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf012.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">12</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;If you set temperature to 0, top-K and top-P become irrelevant–the most probable&#160;</p>
<p style="position:absolute;top:224px;left:129px;white-space:nowrap" class="ft011">token becomes the next token predicted. If you set temperature extremely high (above&#160;<br/>1–generally into the 10s), temperature becomes irrelevant and whatever tokens make&#160;<br/>it through the top-K and/or top-P criteria are then randomly sampled to choose a next&#160;<br/>predicted&#160;token.</p>
<p style="position:absolute;top:345px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;If you set top-K to 1, temperature and top-P become irrelevant. Only one token passes the&#160;</p>
<p style="position:absolute;top:372px;left:129px;white-space:nowrap" class="ft011">top-K criteria, and that token is the next predicted token. If you set top-K extremely high,&#160;<br/>like to the size of the LLM’s vocabulary, any token with a nonzero probability of being the&#160;<br/>next token will meet the top-K criteria and none are selected out.</p>
<p style="position:absolute;top:467px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;If you set top-P to 0 (or a very small value), most LLM sampling implementations will then&#160;</p>
<p style="position:absolute;top:494px;left:129px;white-space:nowrap" class="ft011">only consider the most probable token to meet the top-P criteria, making temperature and&#160;<br/>top-K irrelevant. If you set top-P to 1, any token with a nonzero probability of being the&#160;<br/>next token will meet the top-P criteria, and none are selected out.</p>
<p style="position:absolute;top:602px;left:108px;white-space:nowrap" class="ft011">As a general starting point, a temperature of .2, top-P of .95, and top-K of 30 will give you&#160;<br/>relatively coherent results that can be creative but not excessively so. If you want especially&#160;<br/>creative results, try starting with a temperature of .9, top-P of .99, and top-K of 40. And if you&#160;<br/>want less creative results, try starting with a temperature of .1, top-P of .9, and top-K of 20.&#160;<br/>Finally, if your task always has a single correct answer (e.g., answering a math problem), start&#160;<br/>with a temperature of 0.</p>
<p style="position:absolute;top:791px;left:108px;white-space:nowrap" class="ft011"><b>NOTE:</b>&#160;With more freedom (higher temperature, top-K, top-P, and output tokens), the LLM&#160;<br/>might generate text that is less relevant.</p>
<p style="position:absolute;top:872px;left:108px;white-space:nowrap" class="ft011"><b>WARNING:</b>&#160;Have you ever seen a response ending with a large amount of filler words? This&#160;<br/>is also known as the &#34;repetition loop bug&#34;, which is a common issue in Large Language&#160;<br/>Models where the model gets stuck in a cycle, repeatedly generating the same (filler) word,&#160;<br/>phrase, or sentence structure, often exacerbated by inappropriate temperature and top-k/</p>
</div>
<!-- Page 13 -->
<a name="13"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft015{font-size:17px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page13-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf013.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">13</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">top-p settings. This can occur at both low and high temperature settings, though for different&#160;<br/>reasons. At low temperatures, the model becomes overly deterministic, sticking rigidly to the&#160;<br/>highest probability path, which can lead to a loop if that path revisits previously generated&#160;<br/>text. &#160;Conversely, at high temperatures, the model's output becomes excessively random,&#160;<br/>increasing the probability that a randomly chosen word or phrase will, by chance, lead back&#160;<br/>to a prior state, creating a loop due to the vast number of available options. &#160;In both cases,&#160;<br/>the model's sampling process gets &#34;stuck,&#34; resulting in monotonous and unhelpful output&#160;<br/>until the output window is filled. Solving this often requires careful tinkering with temperature&#160;<br/>and top-k/top-p values to find the optimal balance between determinism and randomness.</p>
<p style="position:absolute;top:488px;left:108px;white-space:nowrap" class="ft09"><b>Prompting&#160;techniques</b></p>
<p style="position:absolute;top:560px;left:108px;white-space:nowrap" class="ft011">LLMs are tuned to follow instructions and are trained on large amounts of data so they can&#160;<br/>understand a prompt and generate an answer. But LLMs aren’t perfect; the clearer your&#160;<br/>prompt text, the better it is for the LLM to predict the next likely text. Additionally, specific&#160;<br/>techniques that take advantage of how LLMs are trained and how LLMs work will help you get&#160;<br/>the relevant results from LLMs</p>
<p style="position:absolute;top:722px;left:108px;white-space:nowrap" class="ft011">Now that we understand what prompt engineering is and what it takes, let’s dive into some&#160;<br/>examples of the most important prompting techniques.</p>
<p style="position:absolute;top:824px;left:108px;white-space:nowrap" class="ft014"><b>General prompting / zero shot</b></p>
<p style="position:absolute;top:884px;left:108px;white-space:nowrap" class="ft05">A&#160;<i>zero-shot</i></p>
<p style="position:absolute;top:885px;left:196px;white-space:nowrap" class="ft013">5</p>
<p style="position:absolute;top:884px;left:201px;white-space:nowrap" class="ft05">&#160;prompt is the simplest type of prompt. It only provides a description of a task&#160;</p>
<p style="position:absolute;top:911px;left:108px;white-space:nowrap" class="ft011">and some text for the LLM to get started with. This input could be anything: a question, a&#160;<br/>start of a story, or instructions. The name zero-shot stands for ’no examples’.</p>
</div>
<!-- Page 14 -->
<a name="14"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page14-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf014.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">14</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">Let’s use Vertex AI Studio (for Language) in Vertex AI,</p>
<p style="position:absolute;top:198px;left:509px;white-space:nowrap" class="ft013">6</p>
<p style="position:absolute;top:197px;left:514px;white-space:nowrap" class="ft05">&#160;which provides a playground to test&#160;</p>
<p style="position:absolute;top:224px;left:108px;white-space:nowrap" class="ft05">prompts. In Table 1, you will see an example zero-shot prompt to classify movie reviews.&#160;</p>
<p style="position:absolute;top:278px;left:108px;white-space:nowrap" class="ft011">The table format as used below is a great way of documenting prompts. Your prompts will&#160;<br/>likely go through many iterations before they end up in a codebase, so it’s important to keep&#160;<br/>track of your prompt engineering work in a disciplined, structured way. More on this table&#160;<br/>format, the importance of tracking prompt engineering work, and the prompt development&#160;<br/>process is in the Best Practices section later in this chapter (“Document the various prompt&#160;<br/>attempts”). &#160;</p>
<p style="position:absolute;top:467px;left:108px;white-space:nowrap" class="ft011">The model temperature should be set to a low number, since no creativity is needed, and we&#160;<br/>use the gemini-pro default top-K and top-P values, which effectively disable both settings&#160;<br/>(see ‘LLM Output Configuration’ above). Pay attention to the generated output. The words&#160;<br/><i>disturbing</i>&#160;and&#160;<i>masterpiece</i>&#160;should make the prediction a little more complicated, as both&#160;<br/>words are used in the same sentence.</p>
</div>
<!-- Page 15 -->
<a name="15"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft016{font-size:15px;font-family:WGJRYK+GoogleSansText-Medium;color:#000101;}
	.ft017{font-size:15px;font-family:WGJRYK+GoogleSansText;color:#202124;}
	.ft018{font-size:15px;font-family:ZENJOE+GoogleSansText-Medium;color:#000101;}
	.ft019{font-size:15px;font-family:WGJRYK+RobotoMono;color:#202124;}
	.ft020{font-size:14px;font-family:WGJRYK+GoogleSansText-Medium;color:#202124;}
	.ft021{font-size:15px;line-height:21px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page15-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf015.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">15</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">1_1_movie_classification</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">Classify movie reviews as positive, neutral or negative.</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">5</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:341px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft021">Classify movie reviews as POSITIVE, NEUTRAL or NEGATIVE.&#160;<br/>Review: &#34;Her&#34; is a disturbing study revealing the direction&#160;<br/>humanity is headed if AI is allowed to keep evolving,&#160;<br/>unchecked. I wish there were more movies like this masterpiece.&#160;<br/>Sentiment:</p>
<p style="position:absolute;top:465px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:465px;left:242px;white-space:nowrap" class="ft017">POSITIVE</p>
<p style="position:absolute;top:515px;left:108px;white-space:nowrap" class="ft020">Table 1. An example of zero-shot prompting</p>
<p style="position:absolute;top:566px;left:108px;white-space:nowrap" class="ft011">When zero-shot doesn’t work, you can provide demonstrations or examples in the prompt,&#160;<br/>which leads to “one-shot” and “few-shot” prompting. General prompting / zero shot</p>
<p style="position:absolute;top:668px;left:108px;white-space:nowrap" class="ft014"><b>One-shot&#160;&amp;&#160;few-shot</b></p>
<p style="position:absolute;top:728px;left:108px;white-space:nowrap" class="ft011">When creating prompts for AI models, it is helpful to provide examples. These examples can&#160;<br/>help the model understand what you are asking for. Examples are especially useful when you&#160;<br/>want to steer the model to a certain output structure or pattern.&#160;</p>
<p style="position:absolute;top:836px;left:108px;white-space:nowrap" class="ft011">A&#160;<b>one-shot&#160;prompt</b>, provides a&#160;<i>single</i>&#160;example, &#160;hence the name one-shot. The idea is the&#160;<br/>model has an example it can imitate to best complete the task.</p>
<p style="position:absolute;top:917px;left:108px;white-space:nowrap" class="ft05">A&#160;<b>few-shot&#160;prompt&#160;</b></p>
<p style="position:absolute;top:919px;left:264px;white-space:nowrap" class="ft013">7</p>
<p style="position:absolute;top:917px;left:269px;white-space:nowrap" class="ft05">&#160;provides&#160;<i>multiple</i>&#160;examples to the model. This approach shows the &#160;</p>
<p style="position:absolute;top:944px;left:108px;white-space:nowrap" class="ft011">model a pattern that it needs to follow. The idea is similar to one-shot, but multiple examples&#160;<br/>of the desired pattern increases the chance the model follows the pattern.</p>
</div>
<!-- Page 16 -->
<a name="16"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft022{font-size:17px;font-family:WGJRYK+GoogleSansText;color:#80868b;}
	.ft023{font-size:15px;line-height:20px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page16-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf016.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">16</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">The number of examples you need for few-shot prompting depends on a few factors,&#160;<br/>including the complexity of the task, the quality of the examples, and the capabilities of the&#160;<br/>generative AI (gen AI) model you are using. As a general rule of thumb, you should use at&#160;<br/>least three to five examples for few-shot prompting. However, you may need to use more&#160;<br/>examples for more complex tasks, or you may need to use fewer due to the input length&#160;<br/>limitation of your model.</p>
<p style="position:absolute;top:386px;left:108px;white-space:nowrap" class="ft011">Table 2 shows a few-shot prompt example, let’s use the same gemini-pro model&#160;<br/>configuration settings as before, other than increasing the token limit to accommodate the&#160;<br/>need for a longer response.</p>
<p style="position:absolute;top:494px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:494px;left:242px;white-space:nowrap" class="ft017">Parse pizza orders to JSON</p>
<p style="position:absolute;top:522px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:522px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:550px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:550px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:550px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:550px;left:638px;white-space:nowrap" class="ft017">250</p>
<p style="position:absolute;top:577px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:577px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:577px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:577px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:604px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:605px;left:242px;white-space:nowrap" class="ft019">Parse a customer's pizza order into valid JSON:</p>
<p style="position:absolute;top:639px;left:242px;white-space:nowrap" class="ft021">EXAMPLE:<br/>I want a small pizza with cheese, tomato sauce, and pepperoni.<br/>JSON&#160;Response:<br/>```<br/>{<br/>&#34;size&#34;:&#160;&#34;small&#34;,<br/>&#34;type&#34;:&#160;&#34;normal&#34;,<br/>&#34;ingredients&#34;:&#160;[[&#34;cheese&#34;,&#160;&#34;tomato&#160;sauce&#34;,&#160;&#34;peperoni&#34;]]<br/>}<br/>```</p>
<p style="position:absolute;top:853px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 17 -->
<a name="17"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page17-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf017.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:799px;white-space:nowrap" class="ft02">17</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021">EXAMPLE:<br/>Can I get a large pizza with tomato sauce, basil and mozzarella&#160;</p>
<p style="position:absolute;top:269px;left:242px;white-space:nowrap" class="ft021">{<br/>&#34;size&#34;:&#160;&#34;large&#34;,<br/>&#34;type&#34;:&#160;&#34;normal&#34;,<br/>&#34;ingredients&#34;:&#160;[[&#34;tomato&#160;sauce&#34;,&#160;&#34;bazel&#34;,&#160;&#34;mozzarella&#34;]]<br/>}</p>
<p style="position:absolute;top:386px;left:242px;white-space:nowrap" class="ft021">Now, I would like a large pizza, with the first half cheese and&#160;<br/>mozzarella. And the other tomato sauce, ham and pineapple.</p>
<p style="position:absolute;top:449px;left:242px;white-space:nowrap" class="ft019">JSON&#160;Response:</p>
<p style="position:absolute;top:477px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:478px;left:242px;white-space:nowrap" class="ft021">```<br/>{<br/>&#34;size&#34;:&#160;&#34;large&#34;,<br/>&#34;type&#34;:&#160;&#34;half-half&#34;,<br/>&#34;ingredients&#34;:&#160;[[&#34;cheese&#34;,&#160;&#34;mozzarella&#34;],&#160;[&#34;tomato&#160;sauce&#34;,&#160;<br/>&#34;ham&#34;,&#160;&#34;pineapple&#34;]]<br/>}<br/>```</p>
<p style="position:absolute;top:667px;left:108px;white-space:nowrap" class="ft020">Table 2. An example of few-shot prompting</p>
<p style="position:absolute;top:717px;left:108px;white-space:nowrap" class="ft011">When you choose examples for your prompt, use examples that are relevant to the task you&#160;<br/>want to perform. The examples should be diverse, of high quality, and well written. One small&#160;<br/>mistake can confuse the model and will result in undesired output.</p>
<p style="position:absolute;top:825px;left:108px;white-space:nowrap" class="ft011">If you are trying to generate output that is robust to a variety of inputs, then it is important to&#160;<br/>include edge cases in your examples. Edge cases are inputs that are unusual or unexpected,&#160;<br/>but that the model should still be able to handle.</p>
</div>
<!-- Page 18 -->
<a name="18"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page18-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf018.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">18</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>System, contextual and role prompting</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">System, contextual and role prompting are all techniques used to guide how LLMs generate&#160;<br/>text, but they focus on different aspects:</p>
<p style="position:absolute;top:325px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>System&#160;prompting</b>&#160;sets the overall context and purpose for the language model. It&#160;</p>
<p style="position:absolute;top:352px;left:129px;white-space:nowrap" class="ft011">defines the ‘big picture’ of what the model should be doing, like translating a language,&#160;<br/>classifying a review etc.</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Contextual&#160;prompting</b>&#160;provides specific details or background information relevant to&#160;</p>
<p style="position:absolute;top:447px;left:129px;white-space:nowrap" class="ft011">the current conversation or task. It helps the model to understand the nuances of what’s&#160;<br/>being asked and tailor the response accordingly.</p>
<p style="position:absolute;top:514px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Role&#160;prompting</b>&#160;assigns a specific character or identity for the language model to adopt.&#160;</p>
<p style="position:absolute;top:541px;left:129px;white-space:nowrap" class="ft011">This helps the model generate responses that are consistent with the assigned role and its&#160;<br/>associated knowledge and behavior.</p>
<p style="position:absolute;top:622px;left:108px;white-space:nowrap" class="ft011">There can be considerable overlap between system, contextual, and role prompting. E.g. a&#160;<br/>prompt that assigns a role to the system, can also have a context.</p>
<p style="position:absolute;top:703px;left:108px;white-space:nowrap" class="ft05">However, each type of prompt serves a slightly different primary purpose:</p>
<p style="position:absolute;top:744px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;System prompt: Defines the model’s fundamental capabilities and overarching purpose.</p>
<p style="position:absolute;top:784px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Contextual prompt: Provides immediate, task-specific information to guide the response.&#160;</p>
<p style="position:absolute;top:811px;left:129px;white-space:nowrap" class="ft05">It’s highly specific to the current task or input, which is dynamic.</p>
<p style="position:absolute;top:852px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Role prompt: Frames the model’s output style and voice. It adds a layer of specificity&#160;</p>
<p style="position:absolute;top:879px;left:129px;white-space:nowrap" class="ft05">and personality.</p>
</div>
<!-- Page 19 -->
<a name="19"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page19-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf019.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">19</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Distinguishing between system, contextual, and role prompts provides a framework for&#160;<br/>designing prompts with clear intent, allowing for flexible combinations and making it easier to&#160;<br/>analyze how each prompt type influences the language model’s output.</p>
<p style="position:absolute;top:305px;left:108px;white-space:nowrap" class="ft05">Let’s dive into these three different kinds of prompts.</p>
<p style="position:absolute;top:383px;left:108px;white-space:nowrap" class="ft03"><b>System prompting</b></p>
<p style="position:absolute;top:440px;left:108px;white-space:nowrap" class="ft011">Table 3 contains a system prompt, where I specify additional information on how to return the&#160;<br/>output. I increased the temperature to get a higher creativity level, and I specified a higher&#160;<br/>token limit. However, because of my clear instruction on how to return the output the model&#160;<br/>didn’t return extra text.</p>
<p style="position:absolute;top:575px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:575px;left:242px;white-space:nowrap" class="ft017">Classify movie reviews as positive, neutral or negative.</p>
<p style="position:absolute;top:602px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:602px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:629px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:629px;left:242px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:629px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:629px;left:638px;white-space:nowrap" class="ft017">5</p>
<p style="position:absolute;top:656px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:656px;left:242px;white-space:nowrap" class="ft017">40</p>
<p style="position:absolute;top:656px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:656px;left:638px;white-space:nowrap" class="ft017">0.8</p>
<p style="position:absolute;top:684px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:685px;left:242px;white-space:nowrap" class="ft021">Classify movie reviews as positive, neutral or negative. Only&#160;<br/>return the label in uppercase.<br/>Review: &#34;Her&#34; is a disturbing study revealing the direction&#160;<br/>humanity is headed if AI is allowed to keep evolving,&#160;<br/>unchecked. It's so disturbing I couldn't watch it.<br/>Sentiment:</p>
<p style="position:absolute;top:826px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:826px;left:242px;white-space:nowrap" class="ft017">NEGATIVE</p>
<p style="position:absolute;top:872px;left:108px;white-space:nowrap" class="ft020">Table 3. An example of system prompting</p>
<p style="position:absolute;top:923px;left:108px;white-space:nowrap" class="ft011">System prompts can be useful for generating output that meets specific requirements. The&#160;<br/>name ‘system prompt’ actually stands for ‘providing an additional task to the system’. For&#160;<br/>example, you could use a system prompt to generate a code snippet that is compatible with&#160;<br/>a specific programming language, or you could use a system prompt to return a certain&#160;<br/>structure. Have a look into Table 4, where I return the output in JSON format.</p>
</div>
<!-- Page 20 -->
<a name="20"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft024{font-size:15px;line-height:29px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page20-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf020.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">20</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">Classify movie reviews as positive, neutral or negative, return JSON.</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:259px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:259px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">40</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">0.8</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:319px;left:242px;white-space:nowrap" class="ft021">Classify movie reviews as positive, neutral or negative. Return&#160;<br/>valid&#160;JSON:<br/>Review: &#34;Her&#34; is a disturbing study revealing the direction&#160;<br/>humanity is headed if AI is allowed to keep evolving,&#160;<br/>unchecked. It's so disturbing I couldn't watch it.<br/>Schema:<br/>```<br/>MOVIE:<br/>{<br/>&#34;sentiment&#34;: String &#34;POSITIVE&#34; | &#34;NEGATIVE&#34; | &#34;NEUTRAL&#34;,<br/>&#34;name&#34;:&#160;String<br/>}<br/>MOVIE&#160;REVIEWS:<br/>{<br/>&#34;movie_reviews&#34;:&#160;[MOVIE]<br/>}<br/>```<br/>JSON&#160;Response:</p>
<p style="position:absolute;top:724px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:725px;left:242px;white-space:nowrap" class="ft023">```<br/>{<br/>&#160; &#34;movie_reviews&#34;:&#160;[<br/>&#160; &#160; {<br/>&#160; &#160; &#160; &#34;sentiment&#34;:&#160;&#34;NEGATIVE&#34;,<br/>&#160; &#160; &#160; &#34;name&#34;:&#160;&#34;Her&#34;<br/>&#160; &#160; }<br/>&#160; ]<br/>}<br/>```</p>
<p style="position:absolute;top:960px;left:108px;white-space:nowrap" class="ft020">Table 4. An example of system prompting with JSON format</p>
</div>
<!-- Page 21 -->
<a name="21"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page21-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf021.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">21</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">There are some benefits in returning JSON objects from a prompt that extracts data. In&#160;<br/>a real-world application I don’t need to manually create this JSON format, I can already&#160;<br/>return the data in a sorted order (very handy when working with datetime objects), but most&#160;<br/>importantly, by prompting for a JSON format it forces the model to create a structure and&#160;<br/>limit&#160;hallucinations.</p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft011">System prompts can also be really useful for safety and toxicity. To control the output, simply&#160;<br/>add an additional line to your prompt like: ‘You should be respectful in your answer.’.</p>
<p style="position:absolute;top:464px;left:108px;white-space:nowrap" class="ft03"><b>Role prompting</b></p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">Role prompting is a technique in prompt engineering that involves assigning a specific role to&#160;<br/>the gen AI model. This can help the model to generate more relevant and informative output,&#160;<br/>as the model can craft its responses to the specific role that it has been assigned.</p>
<p style="position:absolute;top:629px;left:108px;white-space:nowrap" class="ft011">For example, you could role prompt a gen AI model to be a book editor, a kindergarten&#160;<br/>teacher, or a motivational speaker. Once the model has been assigned a role, you can then&#160;<br/>give it prompts that are specific to that role. For example, you could prompt a teacher to&#160;<br/>create a lesson plan that they can then review. Have a look into Table 5, where the model&#160;<br/>takes the role of a travel guide.</p>
</div>
<!-- Page 22 -->
<a name="22"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page22-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf022.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">22</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">Act&#160;as&#160;travel&#160;guide&#160;and&#160;provide&#160;3&#160;travel&#160;suggestions</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:259px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:259px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">40</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">0.8</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:315px;left:242px;white-space:nowrap" class="ft021">I want you to act as a travel guide. I will write to you&#160;<br/>about my location and you will suggest 3 places to visit near&#160;<br/>me. In some cases, I will also give you the type of places I&#160;<br/>will&#160;visit.<br/>My suggestion: &#34;I am in Amsterdam and I want to visit&#160;<br/>only&#160;museums.&#34;<br/>Travel&#160;Suggestions:</p>
<p style="position:absolute;top:478px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:478px;left:242px;white-space:nowrap" class="ft017">1.&#160;&#160;Rijksmuseum: World-renowned museum, known for Dutch masterpieces&#160;</p>
<p style="position:absolute;top:499px;left:264px;white-space:nowrap" class="ft017">like Rembrandt’s “The Night Watch.” Don’t miss the incredible collection of&#160;</p>
<p style="position:absolute;top:520px;left:264px;white-space:nowrap" class="ft017">paintings and artifacts showcasing Dutch art and history.</p>
<p style="position:absolute;top:555px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;Van Gogh Museum: Immerse yourself in the captivating works of Vincent&#160;</p>
<p style="position:absolute;top:576px;left:264px;white-space:nowrap" class="ft017">van Gogh. The museum houses the largest collection of his paintings and&#160;</p>
<p style="position:absolute;top:597px;left:264px;white-space:nowrap" class="ft017">drawings, including “The Starry Night” and “Sunflowers.”</p>
<p style="position:absolute;top:631px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;Stedelijk Museum Amsterdam: Discover modern and contemporary art&#160;</p>
<p style="position:absolute;top:652px;left:264px;white-space:nowrap" class="ft017">from around the world. The museum’s collection includes works by Picasso,&#160;</p>
<p style="position:absolute;top:673px;left:264px;white-space:nowrap" class="ft017">Kandinsky, and Rietveld, housed in a striking modern building.</p>
<p style="position:absolute;top:730px;left:108px;white-space:nowrap" class="ft020">Table 5. An example of role prompting</p>
<p style="position:absolute;top:781px;left:108px;white-space:nowrap" class="ft011">The above example shows an example of taking the role of a travel agent. When you&#160;<br/>would change the role to a teacher of geography, you would notice that you will receive a&#160;<br/>different response.</p>
<p style="position:absolute;top:889px;left:108px;white-space:nowrap" class="ft011">Defining a role perspective for an AI model gives it a blueprint of the tone, style, and focused&#160;<br/>expertise you’re looking for to improve the quality, relevance, and effectiveness of your&#160;<br/>output.&#160;</p>
</div>
<!-- Page 23 -->
<a name="23"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft025{font-size:15px;line-height:27px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page23-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf023.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">23</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">Here are some styles you can choose from which I find effective:</p>
<p style="position:absolute;top:237px;left:108px;white-space:nowrap" class="ft011">Confrontational, Descriptive, Direct, Formal, Humorous, Influential, Informal,&#160;<br/>Inspirational, Persuasive</p>
<p style="position:absolute;top:318px;left:108px;white-space:nowrap" class="ft05">Let’s change our prompt in Table 6 to include a humorous and inspirational style.</p>
<p style="position:absolute;top:370px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:373px;left:242px;white-space:nowrap" class="ft021">I want you to act as a travel guide. I will write to you about&#160;<br/>my location and you will suggest 3 places to visit near me in&#160;<br/>a humorous style.<br/>My suggestion: &#34;I am in Manhattan.&#34;<br/>Travel&#160;Suggestions:</p>
<p style="position:absolute;top:498px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:500px;left:242px;white-space:nowrap" class="ft017">1.&#160;&#160;Behold the Empire State of Mind: Ascend to the dizzying heights of the Empire&#160;</p>
<p style="position:absolute;top:521px;left:264px;white-space:nowrap" class="ft017">State Building and bask in the glory of Manhattan's skyline. Prepare to feel like&#160;</p>
<p style="position:absolute;top:542px;left:264px;white-space:nowrap" class="ft017">King Kong atop the Big Apple, minus the giant ape-sized banana.</p>
<p style="position:absolute;top:577px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;Get Artsy-Fartsy at MoMA: Unleash your inner art aficionado at the Museum&#160;</p>
<p style="position:absolute;top:598px;left:264px;white-space:nowrap" class="ft017">of Modern Art (MoMA). Gaze upon masterpieces that will boggle your&#160;</p>
<p style="position:absolute;top:619px;left:264px;white-space:nowrap" class="ft017">mind and make you question whether your stick-figure drawings have any&#160;</p>
<p style="position:absolute;top:640px;left:264px;white-space:nowrap" class="ft017">artistic&#160;merit.</p>
<p style="position:absolute;top:674px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;Shop ‘Til You Drop on Fifth Avenue: Indulge in some retail therapy on the&#160;</p>
<p style="position:absolute;top:695px;left:264px;white-space:nowrap" class="ft017">iconic Fifth Avenue. Brace yourself for sticker shock as you window-shop (or&#160;</p>
<p style="position:absolute;top:716px;left:264px;white-space:nowrap" class="ft017">actually shop) at designer boutiques that will make your wallet cry. But hey,&#160;</p>
<p style="position:absolute;top:737px;left:264px;white-space:nowrap" class="ft017">you’re in Manhattan, so you might as well embrace the fabulousness!</p>
<p style="position:absolute;top:789px;left:108px;white-space:nowrap" class="ft020">Table 6. An example of role prompting with a humorous tone and style</p>
<p style="position:absolute;top:863px;left:108px;white-space:nowrap" class="ft03"><b>Contextual prompting</b></p>
<p style="position:absolute;top:920px;left:108px;white-space:nowrap" class="ft011">By providing contextual prompts, you can help ensure that your AI interactions are as&#160;<br/>seamless and efficient as possible. The model will be able to more quickly understand your&#160;<br/>request and be able to generate more accurate and relevant responses, as you can see in the&#160;<br/>example of Table 7.</p>
</div>
<!-- Page 24 -->
<a name="24"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page24-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf024.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">24</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">Suggest articles for a blog about retro games</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:259px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:259px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">40</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">0.8</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:315px;left:242px;white-space:nowrap" class="ft021">Context: You are writing for a blog about retro 80's arcade&#160;<br/>video&#160;games.<br/>Suggest 3 topics to write an article about with a few lines of&#160;<br/>description of what this article should contain.</p>
<p style="position:absolute;top:417px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:417px;left:242px;white-space:nowrap" class="ft017">1.&#160;&#160;**The Evolution of Arcade Cabinet Design:**&#160;</p>
<p style="position:absolute;top:438px;left:264px;white-space:nowrap" class="ft017">This article would explore the evolution of arcade cabinet designs, from the&#160;</p>
<p style="position:absolute;top:459px;left:264px;white-space:nowrap" class="ft017">early wood and metal cabinets of the 1970s to the sleek, neon-lit designs of&#160;</p>
<p style="position:absolute;top:480px;left:264px;white-space:nowrap" class="ft017">the 1980s and beyond.</p>
<p style="position:absolute;top:514px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;**Blast From The Past: Iconic Arcade Games of The 80’s:**&#160;</p>
<p style="position:absolute;top:535px;left:264px;white-space:nowrap" class="ft017">- This article would feature a glimpse into the history, impact, and legacy&#160;</p>
<p style="position:absolute;top:556px;left:264px;white-space:nowrap" class="ft017">of some of the most iconic and influential arcade games of the 1980s,&#160;</p>
<p style="position:absolute;top:577px;left:264px;white-space:nowrap" class="ft017">highlighting their innovations, popular mechanics, and enduring charm.</p>
<p style="position:absolute;top:612px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;**The Rise and Retro Revival of Pixel Art:**&#160;</p>
<p style="position:absolute;top:633px;left:264px;white-space:nowrap" class="ft017">- This article would delve into the evolution of pixel art as a defining visual&#160;</p>
<p style="position:absolute;top:654px;left:264px;white-space:nowrap" class="ft017">style of early arcade games, tracing its roots, exploring its techniques, and&#160;</p>
<p style="position:absolute;top:675px;left:264px;white-space:nowrap" class="ft017">discussing the resurgence of pixel art in modern games and digital art.</p>
<p style="position:absolute;top:730px;left:108px;white-space:nowrap" class="ft020">Table 7. An example of contextual prompting</p>
</div>
<!-- Page 25 -->
<a name="25"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page25-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf025.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">25</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Step-back&#160;prompting</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft05">Step-back</p>
<p style="position:absolute;top:260px;left:187px;white-space:nowrap" class="ft013">8</p>
<p style="position:absolute;top:258px;left:192px;white-space:nowrap" class="ft05">&#160;prompting is a technique for improving the performance by prompting the LLM&#160;</p>
<p style="position:absolute;top:285px;left:108px;white-space:nowrap" class="ft011">to first consider a general question related to the specific task at hand, and then feeding the&#160;<br/>answer to that general question into a subsequent prompt for the specific task. This ‘step&#160;<br/>back’ allows the LLM to activate relevant background knowledge and reasoning processes&#160;<br/>before attempting to solve the specific problem.</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft011">By considering the broader and underlying principles, LLMs can generate more accurate and&#160;<br/>insightful responses. Step-back prompting encourages LLMs to think critically and apply their&#160;<br/>knowledge in new and creative ways. It changes the final prompt doing the task by utilizing&#160;<br/>more knowledge in the LLM’s parameters than would otherwise come into play when the LLM&#160;<br/>is prompted directly.</p>
<p style="position:absolute;top:582px;left:108px;white-space:nowrap" class="ft011">It can help to mitigate biases in LLM responses, by focusing on general principles instead of&#160;<br/>specific details, step-back prompting.</p>
<p style="position:absolute;top:663px;left:108px;white-space:nowrap" class="ft011">Let’s have a look into these examples to understand how step-back prompting can improve&#160;<br/>the results. Let’s first review a traditional prompt (Table 8) before we compare it to a step&#160;<br/>back prompt (Table 9):</p>
</div>
<!-- Page 26 -->
<a name="26"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page26-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf026.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">26</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">Write a storyline for a level of a first-person shooter video game.</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:259px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:259px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">40</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">0.8</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:315px;left:242px;white-space:nowrap" class="ft021">Write a one paragraph storyline for a new level of a first-<br/>person shooter video game that is challenging and engaging.</p>
<p style="position:absolute;top:369px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:369px;left:242px;white-space:nowrap" class="ft017">The level begins with the player’s squad being ambushed in a dense urban area&#160;</p>
<p style="position:absolute;top:390px;left:242px;white-space:nowrap" class="ft017">by a relentless enemy faction. Players must fight their way through a maze of&#160;</p>
<p style="position:absolute;top:411px;left:242px;white-space:nowrap" class="ft017">back&#160;alleys&#160;and&#160;dilapidated&#160;buildings,&#160;utilizing&#160;stealth&#160;and&#160;precision&#160;to&#160;eliminate&#160;</p>
<p style="position:absolute;top:432px;left:242px;white-space:nowrap" class="ft017">enemy forces and avoid detection. The player must use their environment to their&#160;</p>
<p style="position:absolute;top:453px;left:242px;white-space:nowrap" class="ft017">advantage, setting traps, utilizing cover, and making calculated moves to survive.&#160;</p>
<p style="position:absolute;top:474px;left:242px;white-space:nowrap" class="ft017">Along the way, they uncover intel suggesting the enemy is planning a devastating&#160;</p>
<p style="position:absolute;top:495px;left:242px;white-space:nowrap" class="ft017">attack, and the player must race against time to gather evidence and relay it back&#160;</p>
<p style="position:absolute;top:516px;left:242px;white-space:nowrap" class="ft017">to their headquarters before the enemy can carry out their plans.</p>
<p style="position:absolute;top:568px;left:108px;white-space:nowrap" class="ft020">Table 8. A traditional prompt before we compare it with a step back prompt</p>
<p style="position:absolute;top:619px;left:108px;white-space:nowrap" class="ft011">When you set the temperature to 1, you might end up with all kinds of creative writings for a&#160;<br/>storyline, but it’s also quite random and generic. So let’s take a step back:</p>
</div>
<!-- Page 27 -->
<a name="27"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page27-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf027.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">27</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021">Based on popular first-person shooter action games, what are&#160;<br/>5 fictional key settings that contribute to a challenging and&#160;<br/>engaging level storyline in a first-person shooter video game?</p>
<p style="position:absolute;top:285px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:288px;left:242px;white-space:nowrap" class="ft017">1.&#160;&#160;**Abandoned Military Base**: A sprawling, post-apocalyptic military complex&#160;</p>
<p style="position:absolute;top:309px;left:264px;white-space:nowrap" class="ft017">crawling with mutated soldiers and rogue robots, ideal for challenging&#160;</p>
<p style="position:absolute;top:330px;left:264px;white-space:nowrap" class="ft017">firearm&#160;combat.</p>
<p style="position:absolute;top:364px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;**Cyberpunk City**: A neon-lit, futuristic urban environment with towering&#160;</p>
<p style="position:absolute;top:385px;left:264px;white-space:nowrap" class="ft017">skyscrapers&#160;and&#160;dense&#160;alleyways,&#160;featuring&#160;cybernetically&#160;enhanced&#160;enemies&#160;</p>
<p style="position:absolute;top:406px;left:264px;white-space:nowrap" class="ft017">and hacking mechanics.</p>
<p style="position:absolute;top:441px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;**Alien Spaceship**: A vast alien vessel stranded on Earth, with eerie&#160;</p>
<p style="position:absolute;top:462px;left:264px;white-space:nowrap" class="ft017">corridors, zero-gravity sections, and extraterrestrial creatures to encounter.</p>
<p style="position:absolute;top:496px;left:242px;white-space:nowrap" class="ft017">4.&#160;&#160;**Zombie-Infested Town**: A desolate town overrun by hordes of aggressive&#160;</p>
<p style="position:absolute;top:517px;left:264px;white-space:nowrap" class="ft017">zombies, featuring intense close-quarters combat and puzzle-solving to find&#160;</p>
<p style="position:absolute;top:538px;left:264px;white-space:nowrap" class="ft017">safe passage.</p>
<p style="position:absolute;top:573px;left:242px;white-space:nowrap" class="ft017">5.&#160;&#160;**Underwater Research Facility**: A deep-sea laboratory flooded with water,&#160;</p>
<p style="position:absolute;top:594px;left:264px;white-space:nowrap" class="ft017">filled with mutated aquatic creatures, and requiring stealth and underwater&#160;</p>
<p style="position:absolute;top:615px;left:264px;white-space:nowrap" class="ft017">exploration skills to survive.</p>
<p style="position:absolute;top:667px;left:108px;white-space:nowrap" class="ft020">Table 9. An example of prompting for self consistency</p>
<p style="position:absolute;top:718px;left:108px;white-space:nowrap" class="ft011">Yeah those topics seem like a good fit for a first-person video game. Let’s go back to the&#160;<br/>original prompt, but this time we include the answer of the step back as context and see what&#160;<br/>it will return.</p>
</div>
<!-- Page 28 -->
<a name="28"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft026{font-size:14px;font-family:WGJRYK+RobotoMono;color:#202124;}
	.ft027{font-size:14px;font-family:WGJRYK+GoogleSansText;color:#202124;}
	.ft028{font-size:14px;line-height:24px;font-family:WGJRYK+RobotoMono;color:#202124;}
	.ft029{font-size:14px;line-height:21px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page28-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf028.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">28</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft028">Context: 5 engaging themes for a first person shooter video game:<br/>1.&#160;**Abandoned Military Base**: A sprawling, post-apocalyptic&#160;</p>
<p style="position:absolute;top:248px;left:264px;white-space:nowrap" class="ft026">military complex crawling with mutated soldiers and rogue&#160;</p>
<p style="position:absolute;top:266px;left:264px;white-space:nowrap" class="ft026">robots, ideal for challenging firearm combat.</p>
<p style="position:absolute;top:290px;left:242px;white-space:nowrap" class="ft026">2.&#160;**Cyberpunk City**: A neon-lit, futuristic urban environment&#160;</p>
<p style="position:absolute;top:308px;left:264px;white-space:nowrap" class="ft026">with towering skyscrapers and dense alleyways, featuring&#160;</p>
<p style="position:absolute;top:326px;left:264px;white-space:nowrap" class="ft026">cybernetically enhanced enemies and hacking mechanics.</p>
<p style="position:absolute;top:357px;left:242px;white-space:nowrap" class="ft026">3.&#160;**Alien Spaceship**: A vast alien vessel stranded on&#160;</p>
<p style="position:absolute;top:375px;left:264px;white-space:nowrap" class="ft026">Earth, with eerie corridors, zero-gravity sections, and&#160;</p>
<p style="position:absolute;top:393px;left:264px;white-space:nowrap" class="ft026">extraterrestrial&#160;creatures&#160;to&#160;encounter.</p>
<p style="position:absolute;top:425px;left:242px;white-space:nowrap" class="ft026">4.&#160;**Zombie-Infested Town**: A desolate town overrun by hordes of&#160;</p>
<p style="position:absolute;top:443px;left:264px;white-space:nowrap" class="ft026">aggressive zombies, featuring intense close-quarters combat and&#160;</p>
<p style="position:absolute;top:461px;left:264px;white-space:nowrap" class="ft026">puzzle-solving to find safe passage.</p>
<p style="position:absolute;top:492px;left:242px;white-space:nowrap" class="ft026">5.&#160;**Underwater Research Facility**: A deep-sea laboratory flooded&#160;</p>
<p style="position:absolute;top:510px;left:264px;white-space:nowrap" class="ft026">with water, filled with mutated aquatic creatures, and requiring&#160;</p>
<p style="position:absolute;top:528px;left:264px;white-space:nowrap" class="ft026">stealth and underwater exploration skills to survive.</p>
<p style="position:absolute;top:560px;left:242px;white-space:nowrap" class="ft026">Take one of the themes and write a one paragraph storyline&#160;</p>
<p style="position:absolute;top:578px;left:242px;white-space:nowrap" class="ft026">for a new level of a first-person shooter video game that is&#160;</p>
<p style="position:absolute;top:596px;left:242px;white-space:nowrap" class="ft026">challenging&#160;and&#160;engaging.</p>
<p style="position:absolute;top:627px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:629px;left:242px;white-space:nowrap" class="ft029">In the heart of a murky abyss, lies a dilapidated underwater research facility,&#160;<br/>standing as a testament to human ambition and its disastrous consequences.&#160;<br/>Shrouded in darkness, pulsating with the hum of malfunctioning machinery, and&#160;<br/>haunted by the echoes of drowned souls, the facility is now a breeding ground for&#160;<br/>a nightmare borne from the deep sea. The player, an elite marine equipped with&#160;<br/>advanced&#160;diving&#160;gear&#160;and&#160;experimental&#160;weaponry,&#160;is&#160;tasked&#160;with&#160;venturing&#160;into&#160;<br/>this aquatic realm of terror. Armed with resilience and resourcefulness, they must&#160;<br/>navigate treacherous corridors, solve cryptic puzzles, and confront gruesome sea&#160;<br/>monstrosities that lurk in the depths. From grappling with the crushing pressure&#160;<br/>of the deep sea to outsmarting cunning aquatic predators, every moment in this&#160;<br/>uncharted underworld tests the limits of human endurance and courage.</p>
<p style="position:absolute;top:892px;left:108px;white-space:nowrap" class="ft020">Table 10. An example of prompting for self consistency</p>
<p style="position:absolute;top:943px;left:108px;white-space:nowrap" class="ft011">That looks like an interesting video game! By using step back prompting techniques you can&#160;<br/>increase the accuracy of your prompts.</p>
</div>
<!-- Page 29 -->
<a name="29"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page29-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf029.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">29</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Chain of Thought (CoT)</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft05">Chain of Thought (CoT)&#160;</p>
<p style="position:absolute;top:260px;left:288px;white-space:nowrap" class="ft013">9</p>
<p style="position:absolute;top:258px;left:293px;white-space:nowrap" class="ft05">&#160;prompting is a technique for improving the reasoning capabilities&#160;</p>
<p style="position:absolute;top:285px;left:108px;white-space:nowrap" class="ft011">of LLMs by generating&#160;<b>intermediate reasoning steps</b>. This helps the LLM generate more&#160;<br/>accurate answers. You can combine it with few-shot prompting to get better results on more&#160;<br/>complex tasks that require reasoning before responding as it’s a challenge with a zero-shot&#160;<br/>chain of thought.</p>
<p style="position:absolute;top:420px;left:108px;white-space:nowrap" class="ft011">CoT has a lot of advantages. First of all, it’s low-effort while being very effective and works&#160;<br/>well with off-the-shelf LLMs (so no need to finetune). You also get interpretability with CoT&#160;<br/>prompting, as you can learn from the LLM’s responses and see the reasoning steps that were&#160;<br/>followed. If there’s a malfunction, you will be able to identify it. Chain of thought appears&#160;<br/>to improve robustness when moving between different LLM versions. Which means the&#160;<br/>performance of your prompt should drift less between different LLMs than if your prompt&#160;<br/>does not use reasoning chains. Of course there are also disadvantages, but they are&#160;<br/>somewhat intuitive.</p>
<p style="position:absolute;top:663px;left:108px;white-space:nowrap" class="ft011">The LLM response includes the chain of thought reasoning, which means more output&#160;<br/>tokens, which means predictions cost more money and take longer.</p>
<p style="position:absolute;top:744px;left:108px;white-space:nowrap" class="ft011">To explain the following example in Table 11, let’s first try to create a prompt that is not using&#160;<br/>CoT prompting to showcase the flaws of a large language model.</p>
<p style="position:absolute;top:823px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:826px;left:242px;white-space:nowrap" class="ft021">When I was 3 years old, my partner was 3 times my age. Now, I&#160;<br/>am 20 years old. How old is my partner?</p>
<p style="position:absolute;top:881px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:883px;left:242px;white-space:nowrap" class="ft05">63 years old</p>
<p style="position:absolute;top:933px;left:108px;white-space:nowrap" class="ft020">Table 11. An example of a prompt which is trying to solve a mathematical problem</p>
</div>
<!-- Page 30 -->
<a name="30"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page30-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf030.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">30</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Yikes. That’s obviously the wrong answer. As a matter of fact, LLMs often struggle with&#160;<br/>mathematical tasks and can provide incorrect answers – even for a task as simple as&#160;<br/>multiplying two numbers. This is because they are trained on large volumes of text and math&#160;<br/>may require a different approach. So let’s see if intermediate reasoning steps will improve&#160;<br/>the&#160;output.</p>
<p style="position:absolute;top:356px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:360px;left:242px;white-space:nowrap" class="ft021">When I was 3 years old, my partner was 3 times my age. Now,&#160;<br/>I am 20 years old. How old is my partner? Let's think step&#160;<br/>by&#160;step.</p>
<p style="position:absolute;top:432px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:434px;left:242px;white-space:nowrap" class="ft017">1.&#160;&#160;Let’s assume my current age is “x” years.</p>
<p style="position:absolute;top:468px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;When I was 3 years old, my age was 3 years.</p>
<p style="position:absolute;top:503px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;My partner’s age at that time was 3 times my age, which means my partner’s&#160;</p>
<p style="position:absolute;top:524px;left:264px;white-space:nowrap" class="ft017">age was 3 * 3 = 9 years.</p>
<p style="position:absolute;top:558px;left:242px;white-space:nowrap" class="ft017">4.&#160;&#160;Now, I am 20 years old, which means my age has increased by 20 - 3 = 17&#160;</p>
<p style="position:absolute;top:579px;left:264px;white-space:nowrap" class="ft017">years since I was 3 years old.</p>
<p style="position:absolute;top:614px;left:242px;white-space:nowrap" class="ft017">5.&#160;&#160;Since my partner’s age was 9 years when I was 3 years old, and my age has&#160;</p>
<p style="position:absolute;top:635px;left:264px;white-space:nowrap" class="ft017">increased by 17 years, my partner’s age must have also increased by 17 years.</p>
<p style="position:absolute;top:669px;left:242px;white-space:nowrap" class="ft017">6.&#160;&#160;Therefore, my partner’s current age is 9 + 17 = 26 years.</p>
<p style="position:absolute;top:711px;left:242px;white-space:nowrap" class="ft017">So, my partner is 26 years old.</p>
<p style="position:absolute;top:765px;left:108px;white-space:nowrap" class="ft020">Table 12. An example of Chain of Thought prompting</p>
<p style="position:absolute;top:816px;left:108px;white-space:nowrap" class="ft011">Alright, now the final answer is correct. That’s because we clearly instructed the LLM to&#160;<br/>explain each step instead of just returning an answer. It’s interesting to see that the model&#160;<br/>adds up the 17 increased years. In my head I would take the difference of years between my&#160;<br/>partner and me and add those up. (20+(9-3)). Let’s help the model to think a little bit more&#160;<br/>like me.</p>
</div>
<!-- Page 31 -->
<a name="31"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft030{font-size:17px;line-height:26px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page31-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf031.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">31</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Table 12 is an example of ‘zero-shot’ Chain of thought. Chain of thought prompting can be&#160;<br/>very powerful when combined with a single-shot or few-shot, as what you can see in Table 13:</p>
<p style="position:absolute;top:275px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:279px;left:242px;white-space:nowrap" class="ft021">Q: When my brother was 2 years old, I was double his age. Now&#160;<br/>I am 40 years old. How old is my brother? Let's think step&#160;<br/>by&#160;step.<br/>A: When my brother was 2 years, I was 2 * 2 = 4 years old.&#160;<br/>That's an age difference of 2 years and I am older. Now I am 40&#160;<br/>years old, so my brother is 40 - 2 &#160;= 38 years old. The answer&#160;<br/>is&#160;38.<br/>Q: When I was 3 years old, my partner was 3 times my age. Now,&#160;<br/>I am 20 years old. How old is my partner? Let's think step&#160;<br/>by&#160;step.<br/>A:</p>
<p style="position:absolute;top:517px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:519px;left:242px;white-space:nowrap" class="ft017">When I was 3 years old, my partner was 3 * 3 = 9 years old. That’s an age&#160;</p>
<p style="position:absolute;top:540px;left:242px;white-space:nowrap" class="ft017">difference of 6 years and my partner is older. Now I am 20 years old, so my&#160;</p>
<p style="position:absolute;top:561px;left:242px;white-space:nowrap" class="ft017">partner is 20 + 6 = 26 years old. The answer is 26.</p>
<p style="position:absolute;top:611px;left:108px;white-space:nowrap" class="ft020">Table 13. An example of chain of thought prompting with a single-shot</p>
<p style="position:absolute;top:662px;left:108px;white-space:nowrap" class="ft011">Chain of thought can be useful for various use-cases. Think of code generation, for breaking&#160;<br/>down the request into a few steps, and mapping those to specific lines of code. Or for&#160;<br/>creating synthetic data when you have some kind of seed like “<i>The product is called XYZ,&#160;<br/>write a description guiding the model through the assumptions you would make based on&#160;<br/>the&#160;product&#160;given&#160;title.</i>” Generally, any task that can be solved by ‘talking through is a good&#160;<br/>candidate for a chain of thought. If you can explain the steps to solve the problem, try chain&#160;<br/>of thought.</p>
<p style="position:absolute;top:878px;left:108px;white-space:nowrap" class="ft05">Please&#160;refer&#160;to&#160;the&#160;notebook</p>
<p style="position:absolute;top:880px;left:323px;white-space:nowrap" class="ft013">10</p>
<p style="position:absolute;top:878px;left:333px;white-space:nowrap" class="ft05">&#160;hosted in the GoogleCloudPlatform Github repository which&#160;</p>
<p style="position:absolute;top:905px;left:108px;white-space:nowrap" class="ft05">will go into further detail on CoT prompting:</p>
</div>
<!-- Page 32 -->
<a name="32"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page32-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf032.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">32</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">In the best practices section of this chapter, we will learn some best practices specific to&#160;<br/>Chain of thought prompting.</p>
<p style="position:absolute;top:299px;left:108px;white-space:nowrap" class="ft014"><b>Self-consistency</b></p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft011">While large language models have shown impressive success in various NLP tasks, their&#160;<br/>ability to reason is often seen as a limitation that cannot be overcome solely by increasing&#160;<br/>model size. As we learned in the previous Chain of Thought prompting section, the model can&#160;<br/>be prompted to generate reasoning steps like a human solving a problem. However CoT uses&#160;<br/>a simple ‘greedy decoding’ strategy, limiting its effectiveness. Self-consistency</p>
<p style="position:absolute;top:468px;left:700px;white-space:nowrap" class="ft013">11</p>
<p style="position:absolute;top:467px;left:707px;white-space:nowrap" class="ft05">&#160;combines&#160;</p>
<p style="position:absolute;top:494px;left:108px;white-space:nowrap" class="ft011">sampling and majority voting to generate diverse reasoning paths and select the most&#160;<br/>consistent answer. It improves the accuracy and coherence of responses generated by LLMs.</p>
<p style="position:absolute;top:575px;left:108px;white-space:nowrap" class="ft011">Self-consistency gives a pseudo-probability likelihood of an answer being correct, but&#160;<br/>obviously has high costs.</p>
<p style="position:absolute;top:656px;left:108px;white-space:nowrap" class="ft05">It follows the following steps:</p>
<p style="position:absolute;top:696px;left:108px;white-space:nowrap" class="ft05">1.&#160;&#160;Generating diverse reasoning paths: The LLM is provided with the same prompt multiple&#160;</p>
<p style="position:absolute;top:723px;left:129px;white-space:nowrap" class="ft011">times. A high temperature setting encourages the model to generate different reasoning&#160;<br/>paths and perspectives on the problem.</p>
<p style="position:absolute;top:791px;left:108px;white-space:nowrap" class="ft05">2.&#160;&#160;Extract the answer from each generated response.</p>
<p style="position:absolute;top:831px;left:108px;white-space:nowrap" class="ft05">3.&#160;&#160;Choose the most common answer.</p>
<p style="position:absolute;top:885px;left:108px;white-space:nowrap" class="ft011">Let’s look into an example of an email classification system, which classifies an email as&#160;<br/>IMPORTANT or NOT IMPORTANT. A zero-shot chain of thought prompt will be sent to the LLM&#160;<br/>multiple times, to see if the responses differ after each submit. Notice the friendly tone, the&#160;<br/>word choice and the sarcasm that’s been used in the email. All this could trick the LLM.</p>
</div>
<!-- Page 33 -->
<a name="33"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page33-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf033.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">33</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021">EMAIL:<br/>```<br/>Hi,<br/>I have seen you use Wordpress for your website. A great open&#160;<br/>source content management system. I have used it in the past&#160;<br/>too. It comes with lots of great user plugins. And it's pretty&#160;<br/>easy to set up.</p>
<p style="position:absolute;top:372px;left:242px;white-space:nowrap" class="ft021">I did notice a bug in the contact form, which happens when&#160;<br/>you select the name field. See the attached screenshot of me&#160;<br/>entering text in the name field. Notice the JavaScript alert&#160;<br/>box that I inv0k3d.</p>
<p style="position:absolute;top:469px;left:242px;white-space:nowrap" class="ft021">But for the rest it's a great website. I enjoy reading it. Feel&#160;<br/>free to leave the bug in the website, because it gives me more&#160;<br/>interesting&#160;things&#160;to&#160;read.<br/>Cheers,<br/>Harry the Hacker.<br/>```<br/>Classify the above email as IMPORTANT or NOT IMPORTANT. Let's&#160;<br/>think step by step and explain why.</p>
<p style="position:absolute;top:669px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 34 -->
<a name="34"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft031{font-size:15px;line-height:23px;font-family:WGJRYK+GoogleSansText;color:#202124;}
	.ft032{font-size:15px;line-height:27px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page34-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf034.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">34</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Output&#160;</p>
<p style="position:absolute;top:223px;left:119px;white-space:nowrap" class="ft016">Attempt 1</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft031">**Step 1: Identify the purpose of the email.**<br/>The purpose of the email is to inform the recipient of a bug in the contact form&#160;</p>
<p style="position:absolute;top:248px;left:242px;white-space:nowrap" class="ft017">on their website. The sender also mentions that they enjoy reading the website&#160;</p>
<p style="position:absolute;top:269px;left:242px;white-space:nowrap" class="ft017">and that they are leaving the bug in place for the time being.</p>
<p style="position:absolute;top:303px;left:242px;white-space:nowrap" class="ft031">**Step 2: Assess the potential impact of the bug.**<br/>The bug in the contact form could allow an attacker to execute arbitrary&#160;</p>
<p style="position:absolute;top:347px;left:242px;white-space:nowrap" class="ft017">JavaScript code on the website. This could lead to the attacker being able to take&#160;</p>
<p style="position:absolute;top:368px;left:242px;white-space:nowrap" class="ft017">control of the website, steal sensitive information, or deface the website.</p>
<p style="position:absolute;top:402px;left:242px;white-space:nowrap" class="ft031">**Step 3: Consider the credibility of the sender.**<br/>The sender of the email claims to be a hacker named Harry. However, there is no&#160;</p>
<p style="position:absolute;top:446px;left:242px;white-space:nowrap" class="ft017">way to verify the sender’s identity. It is possible that the sender is a legitimate&#160;</p>
<p style="position:absolute;top:467px;left:242px;white-space:nowrap" class="ft017">hacker who is trying to help the recipient, but it is also possible that the sender&#160;</p>
<p style="position:absolute;top:488px;left:242px;white-space:nowrap" class="ft017">is a malicious actor who is trying to trick the recipient into clicking on a malicious&#160;</p>
<p style="position:absolute;top:509px;left:242px;white-space:nowrap" class="ft017">link or downloading a malicious file.</p>
<p style="position:absolute;top:543px;left:242px;white-space:nowrap" class="ft031">**Conclusion:&#160;IMPORTANT**<br/>Based on the potential impact of the bug and the credibility of the sender,&#160;</p>
<p style="position:absolute;top:587px;left:242px;white-space:nowrap" class="ft017">the email should be classified as **IMPORTANT**. The recipient should take&#160;</p>
<p style="position:absolute;top:608px;left:242px;white-space:nowrap" class="ft017">immediate action to fix the bug and protect their website from attack.</p>
<p style="position:absolute;top:641px;left:119px;white-space:nowrap" class="ft018">Output&#160;</p>
<p style="position:absolute;top:662px;left:119px;white-space:nowrap" class="ft016">Attempt 2</p>
<p style="position:absolute;top:643px;left:242px;white-space:nowrap" class="ft032">**Explanation:**<br/>1.&#160;&#160;**Lack of urgency:** The email does not convey any sense of urgency or&#160;</p>
<p style="position:absolute;top:691px;left:264px;white-space:nowrap" class="ft017">time-sensitivity. It starts with a casual greeting and presents the information&#160;</p>
<p style="position:absolute;top:712px;left:264px;white-space:nowrap" class="ft017">in a matter-of-fact tone.</p>
<p style="position:absolute;top:746px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;**Non-critical bug report:** The bug reported in the contact form is&#160;</p>
<p style="position:absolute;top:767px;left:264px;white-space:nowrap" class="ft017">described as interesting but not critical. The email sender even suggests that&#160;</p>
<p style="position:absolute;top:788px;left:264px;white-space:nowrap" class="ft017">the website owner can leave the bug in place.</p>
<p style="position:absolute;top:822px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;**Lack of personal impact:** The email does not indicate any direct or&#160;</p>
<p style="position:absolute;top:843px;left:264px;white-space:nowrap" class="ft017">personal impact on the website owner. It simply mentions that the sender&#160;</p>
<p style="position:absolute;top:864px;left:264px;white-space:nowrap" class="ft017">enjoys reading the website.</p>
<p style="position:absolute;top:903px;left:606px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 35 -->
<a name="35"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page35-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf035.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">35</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Output&#160;</p>
<p style="position:absolute;top:223px;left:119px;white-space:nowrap" class="ft016">Attempt 2</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">4.&#160;&#160;**Absence of action request:** The email does not explicitly request any&#160;</p>
<p style="position:absolute;top:225px;left:264px;white-space:nowrap" class="ft017">action from the website owner. It does not ask for the bug to be fixed or&#160;</p>
<p style="position:absolute;top:246px;left:264px;white-space:nowrap" class="ft017">provide any specific suggestions for improvement.</p>
<p style="position:absolute;top:280px;left:242px;white-space:nowrap" class="ft017">5.&#160;&#160;**Sender’s intent:** The sender’s intention seems to be more focused on&#160;</p>
<p style="position:absolute;top:301px;left:264px;white-space:nowrap" class="ft017">sharing&#160;an&#160;observation&#160;and&#160;expressing&#160;interest&#160;in&#160;the&#160;website&#160;rather&#160;than&#160;</p>
<p style="position:absolute;top:322px;left:264px;white-space:nowrap" class="ft017">raising a serious concern or requesting assistance.</p>
<p style="position:absolute;top:356px;left:242px;white-space:nowrap" class="ft017">**Conclusion: NOT IMPORTANT**</p>
<p style="position:absolute;top:381px;left:119px;white-space:nowrap" class="ft018">Output&#160;</p>
<p style="position:absolute;top:402px;left:119px;white-space:nowrap" class="ft016">Attempt 3</p>
<p style="position:absolute;top:383px;left:242px;white-space:nowrap" class="ft031">**Step 1: Identify the purpose of the email.**<br/>The purpose of the email is to inform the recipient of a bug in the contact form on&#160;</p>
<p style="position:absolute;top:427px;left:242px;white-space:nowrap" class="ft017">their website. The sender also mentions that they enjoy reading the website and&#160;</p>
<p style="position:absolute;top:448px;left:242px;white-space:nowrap" class="ft017">that they are leaving the bug in place for the time being.</p>
<p style="position:absolute;top:482px;left:242px;white-space:nowrap" class="ft031">**Step 2: Assess the potential impact of the bug.**<br/>The bug in the contact form could allow an attacker to execute arbitrary&#160;</p>
<p style="position:absolute;top:526px;left:242px;white-space:nowrap" class="ft017">JavaScript code on the website. This could lead to the attacker being able to take&#160;</p>
<p style="position:absolute;top:547px;left:242px;white-space:nowrap" class="ft017">control of the website, steal sensitive information, or deface the website.</p>
<p style="position:absolute;top:581px;left:242px;white-space:nowrap" class="ft031">**Step 3: Consider the credibility of the sender.**<br/>The sender of the email claims to be a hacker named Harry. However, there is no&#160;</p>
<p style="position:absolute;top:625px;left:242px;white-space:nowrap" class="ft017">way to verify the sender’s identity. It is possible that the sender is a legitimate&#160;</p>
<p style="position:absolute;top:646px;left:242px;white-space:nowrap" class="ft017">hacker who is trying to help the recipient, but it is also possible that the sender is&#160;</p>
<p style="position:absolute;top:667px;left:242px;white-space:nowrap" class="ft017">a malicious actor who is trying to exploit the bug for their own gain.</p>
<p style="position:absolute;top:701px;left:242px;white-space:nowrap" class="ft031">**Conclusion:**<br/>Based on the above factors, the email should be classified as **IMPORTANT**.&#160;</p>
<p style="position:absolute;top:745px;left:242px;white-space:nowrap" class="ft017">The bug in the contact form is a serious security risk, and the sender’s credibility&#160;</p>
<p style="position:absolute;top:766px;left:242px;white-space:nowrap" class="ft017">is unknown. The recipient should take immediate action to fix the bug and&#160;</p>
<p style="position:absolute;top:787px;left:242px;white-space:nowrap" class="ft017">investigate the sender’s claims.</p>
<p style="position:absolute;top:812px;left:108px;white-space:nowrap" class="ft020">Table 14. An example of prompting for self consistency</p>
<p style="position:absolute;top:863px;left:108px;white-space:nowrap" class="ft011">You can use the above prompt and try to see if it returns a consistent classification.&#160;<br/>Depending on the model that you are using and the temperature configuration, it might&#160;<br/>return “IMPORTANT” or “NOT IMPORTANT”.&#160;</p>
</div>
<!-- Page 36 -->
<a name="36"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft033{font-size:14px;font-family:ZENJOE+GoogleSansText-Medium;color:#202124;}
-->
</style>
<div id="page36-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf036.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">36</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">By generating many Chains of Thoughts, and taking the most commonly occurring answer&#160;<br/>(“IMPORTANT”), we can get a more consistently correct answer from the LLM.</p>
<p style="position:absolute;top:278px;left:108px;white-space:nowrap" class="ft011">This example shows how self-consistency prompting can be used to improve the accuracy&#160;<br/>of an LLM’s response by considering multiple perspectives and selecting the most&#160;<br/>consistent answer.</p>
<p style="position:absolute;top:407px;left:108px;white-space:nowrap" class="ft014"><b>Tree of Thoughts (ToT)</b></p>
<p style="position:absolute;top:467px;left:108px;white-space:nowrap" class="ft011">Now that we are familiar with chain of thought and self-consistency prompting, let’s review&#160;<br/>Tree of Thoughts (ToT).</p>
<p style="position:absolute;top:495px;left:281px;white-space:nowrap" class="ft013">12</p>
<p style="position:absolute;top:494px;left:290px;white-space:nowrap" class="ft05">&#160;It generalizes the concept of CoT prompting because it allows LLMs&#160;</p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">to explore multiple different reasoning paths simultaneously, rather than just following a&#160;<br/>single linear chain of thought. This is depicted in Figure 1.</p>
<p style="position:absolute;top:960px;left:108px;white-space:nowrap" class="ft020">Figure 1. A visualization of chain of thought prompting on the left versus. Tree of Thoughts prompting on&#160;</p>
<p style="position:absolute;top:981px;left:108px;white-space:nowrap" class="ft033">the right</p>
</div>
<!-- Page 37 -->
<a name="37"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft034{font-size:17px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page37-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf037.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">37</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">This&#160;approach&#160;makes&#160;ToT&#160;particularly&#160;well-suited&#160;for&#160;complex&#160;tasks&#160;that&#160;require&#160;exploration.&#160;It&#160;<br/>works by maintaining a tree of thoughts, where each thought represents a coherent language&#160;<br/>sequence that serves as an intermediate step toward solving a problem. The model can then&#160;<br/>explore different reasoning paths by branching out from different nodes in the tree.&#160;</p>
<p style="position:absolute;top:332px;left:108px;white-space:nowrap" class="ft011">There’s a great notebook, which goes into a bit more detail showing The Tree of Thought&#160;<br/>(ToT) which is based on the paper ‘Large Language Model Guided Tree-of-Thought’.9</p>
<p style="position:absolute;top:434px;left:108px;white-space:nowrap" class="ft014"><b>ReAct (reason &amp; act)</b></p>
<p style="position:absolute;top:494px;left:108px;white-space:nowrap" class="ft05">Reason and act (ReAct) [10]</p>
<p style="position:absolute;top:495px;left:315px;white-space:nowrap" class="ft013">13</p>
<p style="position:absolute;top:494px;left:324px;white-space:nowrap" class="ft05">&#160;prompting is a paradigm for enabling LLMs to solve complex&#160;</p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">tasks using natural language reasoning combined with external tools (search, code&#160;<br/>interpreter etc.) allowing the LLM to perform certain actions, such as interacting with external&#160;<br/>APIs to retrieve information which is a first step towards agent modeling.</p>
<p style="position:absolute;top:629px;left:108px;white-space:nowrap" class="ft011">ReAct mimics how humans operate in the real world, as we reason verbally and can&#160;<br/>take actions to gain information. ReAct performs well against other prompt engineering&#160;<br/>approaches in a variety of domains.</p>
<p style="position:absolute;top:737px;left:108px;white-space:nowrap" class="ft011">ReAct prompting works by combining reasoning and acting into a thought-action loop. The&#160;<br/>LLM first reasons about the problem and generates a plan of action. It then performs the&#160;<br/>actions in the plan and observes the results. The LLM then uses the observations to update&#160;<br/>its reasoning and generate a new plan of action. This process continues until the LLM&#160;<br/>reaches a solution to the problem.</p>
<p style="position:absolute;top:899px;left:108px;white-space:nowrap" class="ft011">To see this in action, you need to write some code. In code Snippet 1 I am using the langchain&#160;<br/>framework for Python, together with VertexAI (</p>
<p style="position:absolute;top:926px;left:459px;white-space:nowrap" class="ft034">google-cloud-aiplatform</p>
<p style="position:absolute;top:926px;left:680px;white-space:nowrap" class="ft05">) and the&#160;</p>
<p style="position:absolute;top:953px;left:108px;white-space:nowrap" class="ft034">google-search-results&#160;pip&#160;packages</p>
<p style="position:absolute;top:953px;left:435px;white-space:nowrap" class="ft05">.</p>
</div>
<!-- Page 38 -->
<a name="38"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft035{font-size:17px;font-family:WGJRYK+GoogleSansText-Medium;color:#1967d2;}
	.ft036{font-size:14px;font-family:WGJRYK+RobotoMono;color:#9334e6;}
	.ft037{font-size:14px;font-family:WGJRYK+RobotoMono;color:#08177e;}
	.ft038{font-size:14px;font-family:WGJRYK+RobotoMono;color:#c5221f;}
	.ft039{font-size:14px;font-family:WGJRYK+RobotoMono;color:#0000ff;}
	.ft040{font-size:14px;font-family:WGJRYK+RobotoMono;color:#188038;}
-->
</style>
<div id="page38-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf038.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">38</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">To run this sample you must create a (free) SerpAPI key fro<a href="https://serpapi.com/manage-api-key">m&#160;</a></p>
<p style="position:absolute;top:197px;left:566px;white-space:nowrap" class="ft035"><a href="https://serpapi.com/manage-api-key">https://serpapi.com/manage-</a></p>
<p style="position:absolute;top:224px;left:108px;white-space:nowrap" class="ft035"><a href="https://serpapi.com/manage-api-key">api-key</a></p>
<p style="position:absolute;top:224px;left:166px;white-space:nowrap" class="ft05">&#160;and set an environment variable&#160;</p>
<p style="position:absolute;top:224px;left:415px;white-space:nowrap" class="ft034">SERPAPI_API_KEY</p>
<p style="position:absolute;top:224px;left:558px;white-space:nowrap" class="ft05">.</p>
<p style="position:absolute;top:278px;left:108px;white-space:nowrap" class="ft030">Next let’s write some Python code, with the task for the LLM to figure out:&#160;<i>How many children&#160;<br/>have a famous dad that performs in the band Metallica.</i></p>
<p style="position:absolute;top:369px;left:126px;white-space:nowrap" class="ft07"><b>Python</b></p>
<p style="position:absolute;top:418px;left:126px;white-space:nowrap" class="ft036">from</p>
<p style="position:absolute;top:418px;left:160px;white-space:nowrap" class="ft026">&#160;langchain.agents&#160;</p>
<p style="position:absolute;top:418px;left:314px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:418px;left:365px;white-space:nowrap" class="ft026">&#160;load_tools</p>
<p style="position:absolute;top:437px;left:126px;white-space:nowrap" class="ft036">from</p>
<p style="position:absolute;top:437px;left:160px;white-space:nowrap" class="ft026">&#160;langchain.agents&#160;</p>
<p style="position:absolute;top:437px;left:314px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:437px;left:365px;white-space:nowrap" class="ft026">&#160;initialize_agent</p>
<p style="position:absolute;top:456px;left:126px;white-space:nowrap" class="ft036">from</p>
<p style="position:absolute;top:456px;left:160px;white-space:nowrap" class="ft026">&#160;langchain.agents&#160;</p>
<p style="position:absolute;top:456px;left:314px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:456px;left:365px;white-space:nowrap" class="ft026">&#160;AgentType</p>
<p style="position:absolute;top:476px;left:126px;white-space:nowrap" class="ft036">from</p>
<p style="position:absolute;top:476px;left:160px;white-space:nowrap" class="ft026">&#160;langchain.llms&#160;</p>
<p style="position:absolute;top:476px;left:297px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:476px;left:348px;white-space:nowrap" class="ft026">&#160;VertexAI</p>
<p style="position:absolute;top:515px;left:126px;white-space:nowrap" class="ft037">prompt</p>
<p style="position:absolute;top:515px;left:177px;white-space:nowrap" class="ft026">&#160;=&#160;</p>
<p style="position:absolute;top:515px;left:203px;white-space:nowrap" class="ft038">&#34;How many kids do the band members of Metallica have?&#34;</p>
<p style="position:absolute;top:554px;left:126px;white-space:nowrap" class="ft037">llm</p>
<p style="position:absolute;top:554px;left:151px;white-space:nowrap" class="ft026">&#160;= VertexAI</p>
<p style="position:absolute;top:554px;left:245px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:554px;left:254px;white-space:nowrap" class="ft037">temperature</p>
<p style="position:absolute;top:554px;left:348px;white-space:nowrap" class="ft026">=</p>
<p style="position:absolute;top:554px;left:357px;white-space:nowrap" class="ft040">0.1</p>
<p style="position:absolute;top:554px;left:382px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:573px;left:126px;white-space:nowrap" class="ft037">tools</p>
<p style="position:absolute;top:573px;left:168px;white-space:nowrap" class="ft026">&#160;= load_tools</p>
<p style="position:absolute;top:573px;left:280px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:573px;left:288px;white-space:nowrap" class="ft040">[</p>
<p style="position:absolute;top:573px;left:297px;white-space:nowrap" class="ft038">&#34;serpapi&#34;</p>
<p style="position:absolute;top:573px;left:374px;white-space:nowrap" class="ft040">]</p>
<p style="position:absolute;top:573px;left:382px;white-space:nowrap" class="ft026">,&#160;</p>
<p style="position:absolute;top:573px;left:399px;white-space:nowrap" class="ft037">llm</p>
<p style="position:absolute;top:573px;left:425px;white-space:nowrap" class="ft026">=</p>
<p style="position:absolute;top:573px;left:434px;white-space:nowrap" class="ft037">llm</p>
<p style="position:absolute;top:573px;left:459px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:612px;left:126px;white-space:nowrap" class="ft037">agent</p>
<p style="position:absolute;top:612px;left:168px;white-space:nowrap" class="ft026">&#160;= initialize_agent</p>
<p style="position:absolute;top:612px;left:331px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:612px;left:340px;white-space:nowrap" class="ft037">tools</p>
<p style="position:absolute;top:612px;left:382px;white-space:nowrap" class="ft026">,&#160;</p>
<p style="position:absolute;top:612px;left:399px;white-space:nowrap" class="ft037">llm</p>
<p style="position:absolute;top:612px;left:425px;white-space:nowrap" class="ft026">, &#160;</p>
<p style="position:absolute;top:632px;left:126px;white-space:nowrap" class="ft037">agent</p>
<p style="position:absolute;top:632px;left:168px;white-space:nowrap" class="ft026">=AgentType.ZERO_SHOT_REACT_DESCRIPTION,&#160;</p>
<p style="position:absolute;top:632px;left:511px;white-space:nowrap" class="ft037">verbose</p>
<p style="position:absolute;top:632px;left:570px;white-space:nowrap" class="ft026">=</p>
<p style="position:absolute;top:632px;left:579px;white-space:nowrap" class="ft039">True)</p>
<p style="position:absolute;top:651px;left:126px;white-space:nowrap" class="ft037">agent</p>
<p style="position:absolute;top:651px;left:168px;white-space:nowrap" class="ft026">.run</p>
<p style="position:absolute;top:651px;left:203px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:651px;left:211px;white-space:nowrap" class="ft037">prompt</p>
<p style="position:absolute;top:651px;left:263px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:713px;left:108px;white-space:nowrap" class="ft020">Snippet 1. Creating a ReAct Agent with LangChain and VertexAI</p>
<p style="position:absolute;top:764px;left:108px;white-space:nowrap" class="ft011">Code Snippet 2 shows the result. Notice that ReAct makes a chain of five searches. In fact,&#160;<br/>the LLM is scraping Google search results to figure out the band names. Then, it lists the&#160;<br/>results as observations and chains the thought for the next search.</p>
</div>
<!-- Page 39 -->
<a name="39"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft041{font-size:14px;line-height:19px;font-family:WGJRYK+RobotoMono;color:#188038;}
-->
</style>
<div id="page39-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf039.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">39</p>
<p style="position:absolute;top:216px;left:126px;white-space:nowrap" class="ft041">&gt; Entering new AgentExecutor chain...<br/>Metallica has 4 members.&#160;<br/>Action: Search<br/>Action Input: How many kids does James Hetfield have?<br/>Observation: three children<br/>Thought: 1/4 Metallica band members have 3 children<br/>Action: Search<br/>Action Input: How many kids does Lars Ulrich have?<br/>Observation: 3<br/>Thought: 2/4 Metallica band members have 6 children<br/>Action: Search<br/>Action Input: How many kids does Kirk Hammett have?<br/>Observation: Hammett has been married to his second wife Lani since 1998.&#160;<br/>They have two sons, Angel (b. September 29, 2006) and Vincenzo (b. June&#160;<br/>28, 2008).<br/>Thought: 3/4 Metallica band members have 8 children<br/>Action: Search<br/>Action Input: How many kids does Robert Trujillo have?<br/>Observation: 2<br/>Thought: 4/4 Metallica band members have 10 children<br/>Final Answer: 10</p>
<p style="position:absolute;top:659px;left:108px;white-space:nowrap" class="ft020">Snippet 2. Executing ReAct Agent in the terminal</p>
<p style="position:absolute;top:696px;left:108px;white-space:nowrap" class="ft011">Code Snippet 2 figures out that the band Metallica has four band members. Then it searches&#160;<br/>each band member to request the total of children and add up the total. Finally, it returns the&#160;<br/>total number of children as the final answer.</p>
<p style="position:absolute;top:804px;left:108px;white-space:nowrap" class="ft011">ReAct prompting in practice requires understanding that you continually have to resend the&#160;<br/>previous prompts/responses (and do trimming of the extra generated content) as well as set&#160;<br/>up the model with appropriate examples/instructions. Please refer to the notebook</p>
<p style="position:absolute;top:860px;left:728px;white-space:nowrap" class="ft013">14</p>
<p style="position:absolute;top:858px;left:737px;white-space:nowrap" class="ft05">&#160;hosted&#160;</p>
<p style="position:absolute;top:885px;left:108px;white-space:nowrap" class="ft011">in the GoogleCloudPlatform Github repository, which goes into a bit more detail showing the&#160;<br/>actual LLM inputs and outputs with a more elaborate example.</p>
</div>
<!-- Page 40 -->
<a name="40"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page40-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf040.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">40</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Automatic&#160;Prompt&#160;Engineering</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">At this point you might realize that writing a prompt can be complex. Wouldn’t it be nice to&#160;<br/>automate this (write a prompt to write prompts)? Well, there’s a method: Automatic Prompt&#160;<br/>Engineering (APE). This method</p>
<p style="position:absolute;top:314px;left:344px;white-space:nowrap" class="ft013">15</p>
<p style="position:absolute;top:312px;left:353px;white-space:nowrap" class="ft05">&#160;not only alleviates the need for human input but also&#160;</p>
<p style="position:absolute;top:339px;left:108px;white-space:nowrap" class="ft05">enhances the model’s performance in various tasks.</p>
<p style="position:absolute;top:393px;left:108px;white-space:nowrap" class="ft011">You will prompt a model to generate more prompts. Evaluate them, possibly alter the good&#160;<br/>ones. And repeat.</p>
<p style="position:absolute;top:474px;left:108px;white-space:nowrap" class="ft011">For example, you can use automatic prompt engineering that will help with training a chatbot&#160;<br/>for a merchandise t-shirt webshop. We want to figure out all the various ways customers&#160;<br/>could phrase their order for buying a band merchandise t-shirt.</p>
<p style="position:absolute;top:568px;left:108px;white-space:nowrap" class="ft05">1.&#160;&#160;Write the prompt which will generate the output variants. In this example, I am using&#160;</p>
<p style="position:absolute;top:595px;left:129px;white-space:nowrap" class="ft05">gemini-pro to generate 10 instructions. See Table 15:</p>
</div>
<!-- Page 41 -->
<a name="41"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft042{font-size:15px;line-height:29px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page41-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf041.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">41</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft023">We have a band merchandise t-shirt webshop, and to train a&#160;<br/>chatbot we need various ways to order: &#34;One Metallica t-shirt&#160;<br/>size S&#34;. Generate 10 variants, with the same semantics but keep&#160;<br/>the&#160;same&#160;meaning.</p>
<p style="position:absolute;top:300px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:302px;left:242px;white-space:nowrap" class="ft042">1.&#160;&#160;I’d like to purchase a Metallica t-shirt in size small.<br/>2.&#160;&#160;Can I order a small-sized Metallica t-shirt?<br/>3.&#160;&#160;I’d like to buy one Metallica t-shirt in small.<br/>4.&#160;&#160;One Metallica shirt, size small, please.<br/>5.&#160;&#160;I want one Metallica t-shirt in size small.<br/>6.&#160;&#160;I’d like to place an order for one Metallica t-shirt in small.<br/>7.&#160;&#160;Small Metallica t-shirt, one please.<br/>8.&#160;&#160;I’m looking for one Metallica t-shirt in small.<br/>9.&#160;&#160;Can you get me one Metallica t-shirt in small?<br/>10.&#160;One Metallica small t-shirt, please.</p>
<p style="position:absolute;top:620px;left:108px;white-space:nowrap" class="ft020">Table 15. Use an LLM to generate prompts</p>
<p style="position:absolute;top:671px;left:108px;white-space:nowrap" class="ft05">2.&#160;&#160;Evaluate all of the instruction candidates by scoring the candidates based on a chosen&#160;</p>
<p style="position:absolute;top:698px;left:129px;white-space:nowrap" class="ft011">metric, For example, you can use. BLEU (Bilingual Evaluation Understudy) or ROUGE&#160;<br/>(Recall-Oriented Understudy for Gisting Evaluation).</p>
<p style="position:absolute;top:765px;left:108px;white-space:nowrap" class="ft05">3.&#160;&#160;Select the instruction candidate with the highest evaluation score. This candidate will be&#160;</p>
<p style="position:absolute;top:792px;left:129px;white-space:nowrap" class="ft011">the final prompt you can use in your software application or chatbot. You can also tweak&#160;<br/>the select prompt and evaluate again.</p>
</div>
<!-- Page 42 -->
<a name="42"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page42-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf042.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">42</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Code prompting</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">Gemini focuses primarily on text-based prompts, which also includes writing prompts for&#160;<br/>returning code. Let’s go to the Vertex AI Studio and test these prompts to look at some&#160;<br/>coding examples.</p>
<p style="position:absolute;top:390px;left:108px;white-space:nowrap" class="ft03"><b>Prompts for writing code</b></p>
<p style="position:absolute;top:447px;left:108px;white-space:nowrap" class="ft011">Gemini can also be a developer and help you with writing code in any programming language&#160;<br/>of choice. As a developer this can help you speed up the process of writing code.</p>
<p style="position:absolute;top:528px;left:108px;white-space:nowrap" class="ft011">Imagine a folder on your machine with hundreds of files that needs to be renamed.&#160;<br/>Renaming each file would take you a lot of time. You know a little Bash, and could write&#160;<br/>a script to automate this, but that may also take awhile. So let’s write a prompt. You can&#160;<br/>write the prompt in the public consumer chatbot Gemini, or if you are more concerned&#160;<br/>about confidentiality, you can write these prompts within your Google Cloud account and&#160;<br/>open Vertex AI Studio. The advantage of Vertex AI Studio is that you can configure the&#160;<br/>temperature etc.</p>
</div>
<!-- Page 43 -->
<a name="43"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page43-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf043.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">43</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">1_bash_rename_files_in_folder</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">Write a prompt to write code in Bash to rename files in a folder.</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:341px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft021">Write a code snippet in Bash, which asks for a folder name.&#160;<br/>Then it takes the contents of the folder and renames all the&#160;<br/>files inside by prepending the name draft to the file name.</p>
<p style="position:absolute;top:436px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:437px;left:242px;white-space:nowrap" class="ft021">```bash<br/>#!/bin/bash<br/># Ask for the folder name<br/>echo &#34;Enter the folder name: &#34;<br/>read&#160;folder_name<br/># Check if the folder exists<br/>if [ ! -d &#34;$folder_name&#34; ]; then<br/>echo &#34;Folder does not exist.&#34;<br/>exit&#160;1<br/>fi<br/># Get the list of files in the folder<br/>files=( &#34;$folder_name&#34;/* )<br/># Rename each file by prepending &#34;draft&#34; to the file name<br/>for file in &#34;${files[@]}&#34;; do<br/>new_file_name=&#34;draft_$(basename&#160;&#34;$file&#34;)&#34;<br/>mv&#160;&#34;$file&#34;&#160;&#34;$new_file_name&#34;<br/>done<br/>echo &#34;Files renamed successfully.&#34;<br/>```</p>
<p style="position:absolute;top:899px;left:108px;white-space:nowrap" class="ft020">Table 16. Using Gemini to program code</p>
<p style="position:absolute;top:950px;left:108px;white-space:nowrap" class="ft011">That seems like good code to me - it’s even documented! However, since LLMs can’t reason,&#160;<br/>and repeat training data, it’s essential to read and test your code first.&#160;</p>
<p style="position:absolute;top:1031px;left:108px;white-space:nowrap" class="ft05">The moment we are all waiting for, does it really work?&#160;</p>
</div>
<!-- Page 44 -->
<a name="44"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page44-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf044.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">44</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Let’s try it first with a test folder with only a few files in it, which will need to be renamed from&#160;<br/>filename.txt to draft_filename.txt.&#160;</p>
<p style="position:absolute;top:264px;left:108px;white-space:nowrap" class="ft05">1.&#160;&#160;Copy the output from Table 16 (without the ```<b>bash</b>&#160;``` text wrapper), and paste it in a new&#160;</p>
<p style="position:absolute;top:291px;left:129px;white-space:nowrap" class="ft05">file called: “<b>rename_files.sh</b>”.&#160;</p>
<p style="position:absolute;top:332px;left:108px;white-space:nowrap" class="ft05">2.&#160;&#160;Open a terminal window and type:&#160;<b>.&#160;rename_files.sh</b>. It will ask to enter a folder name, e.g.&#160;</p>
<p style="position:absolute;top:359px;left:129px;white-space:nowrap" class="ft07"><b>test</b>. and hit enter.&#160;</p>
<p style="position:absolute;top:399px;left:108px;white-space:nowrap" class="ft05">3.&#160;&#160;The script seems to run fine. You will see the message:&#160;<b>Files&#160;renamed&#160;successfully.</b>&#160;</p>
<p style="position:absolute;top:426px;left:129px;white-space:nowrap" class="ft011">When you look into the test folder, notice that all the files were perfectly renamed to&#160;<br/><b>draft_filename.txt.</b>&#160;</p>
<p style="position:absolute;top:507px;left:108px;white-space:nowrap" class="ft05">It&#160;worked!</p>
<p style="position:absolute;top:585px;left:108px;white-space:nowrap" class="ft03"><b>Prompts for explaining code</b></p>
<p style="position:absolute;top:642px;left:108px;white-space:nowrap" class="ft011">As a developer when you work in teams you have to read someone else’s code. Gemini can&#160;<br/>help you with this as well. Let’s take the code output from Table 16, remove the comments&#160;<br/>and ask the large language model to explain what’s happening, See Table 17:</p>
</div>
<!-- Page 45 -->
<a name="45"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page45-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf045.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">45</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">1_bash_explain_the_code</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">Write a prompt to explain Bash code</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:341px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft021">Explain to me the below Bash code:<br/>```<br/>#!/bin/bash<br/>echo &#34;Enter the folder name: &#34;<br/>read&#160;folder_name<br/>if [ ! -d &#34;$folder_name&#34; ]; then<br/>echo &#34;Folder does not exist.&#34;<br/>exit&#160;1<br/>fi<br/>files=( &#34;$folder_name&#34;/* )<br/>for file in &#34;${files[@]}&#34;; do<br/>new_file_name=&#34;draft_$(basename&#160;&#34;$file&#34;)&#34;<br/>mv&#160;&#34;$file&#34;&#160;&#34;$new_file_name&#34;<br/>done<br/>echo &#34;Files renamed successfully.&#34;<br/>```</p>
<p style="position:absolute;top:735px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:735px;left:242px;white-space:nowrap" class="ft042">This Bash script performs the following tasks:<br/>1.&#160;&#160;**User&#160;Input**:&#160;</p>
<p style="position:absolute;top:786px;left:264px;white-space:nowrap" class="ft017">- It prompts the user to enter a folder name using the `echo` and `read`&#160;</p>
<p style="position:absolute;top:807px;left:264px;white-space:nowrap" class="ft017">commands. The entered folder name is stored in the `folder_name` variable.</p>
<p style="position:absolute;top:836px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;**Folder&#160;Existence&#160;Check**:&#160;</p>
<p style="position:absolute;top:857px;left:264px;white-space:nowrap" class="ft017">- It checks if the folder with the specified name exists using the `[ ! -d&#160;</p>
<p style="position:absolute;top:878px;left:264px;white-space:nowrap" class="ft017">“$folder_name” ]` condition. If the folder does not exist, it displays an error&#160;</p>
<p style="position:absolute;top:899px;left:264px;white-space:nowrap" class="ft017">message (“Folder does not exist.”) and exits the script with an exit code of 1.</p>
<p style="position:absolute;top:938px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 46 -->
<a name="46"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page46-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf046.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">46</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;**File Listing**:&#160;</p>
<p style="position:absolute;top:225px;left:263px;white-space:nowrap" class="ft017">- It lists all the files inside the specified folder using the `files=( “$folder_</p>
<p style="position:absolute;top:246px;left:263px;white-space:nowrap" class="ft017">name”/* )` command. This creates an array called `files` containing the paths&#160;</p>
<p style="position:absolute;top:267px;left:263px;white-space:nowrap" class="ft017">to all the files in the folder.</p>
<p style="position:absolute;top:302px;left:242px;white-space:nowrap" class="ft017">4.&#160;&#160;**File&#160;Renaming**:&#160;</p>
<p style="position:absolute;top:323px;left:263px;white-space:nowrap" class="ft017">- It iterates through each file in the `files` array using a `for` loop.&#160;</p>
<p style="position:absolute;top:344px;left:263px;white-space:nowrap" class="ft017">- For each file, it generates a new file name using the `new_file_</p>
<p style="position:absolute;top:365px;left:263px;white-space:nowrap" class="ft017">name=”draft_$(basename “$file”)” ` command. This new file name is created&#160;</p>
<p style="position:absolute;top:386px;left:263px;white-space:nowrap" class="ft017">by prefixing the original file name with the string “draft_”.&#160;</p>
<p style="position:absolute;top:407px;left:263px;white-space:nowrap" class="ft017">- It then renames the file using the `mv “$file” “$new_file_name”` command,&#160;</p>
<p style="position:absolute;top:428px;left:263px;white-space:nowrap" class="ft017">which moves the file to the new file name.</p>
<p style="position:absolute;top:462px;left:242px;white-space:nowrap" class="ft017">5.&#160;&#160;**Success&#160;Message**:&#160;</p>
<p style="position:absolute;top:483px;left:263px;white-space:nowrap" class="ft017">- After renaming all the files, it displays a success message (“Files renamed&#160;</p>
<p style="position:absolute;top:504px;left:263px;white-space:nowrap" class="ft017">successfully.”) to indicate that the renaming operation was successful</p>
<p style="position:absolute;top:558px;left:108px;white-space:nowrap" class="ft020">Table 17. A prompt for explaining code</p>
<p style="position:absolute;top:633px;left:108px;white-space:nowrap" class="ft03"><b>Prompts for translating code</b></p>
<p style="position:absolute;top:690px;left:108px;white-space:nowrap" class="ft011">The bash code from Table 16 seems to work fine. However this script could really be reusable&#160;<br/>when it would prompt me for file names, ideally it should work as a separate application with&#160;<br/>an UI. As a starting point, Python would be a better language for a (web) application than&#160;<br/>Bash. LLMs can help with translating code from one language to another. See the example in&#160;<br/>Table 18:</p>
</div>
<!-- Page 47 -->
<a name="47"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page47-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf047.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">47</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">1_python_rename_files</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">Write a prompt to translate Bash code to Python</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:341px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft021">Translate the below Bash code to a Python snippet.<br/>```bash<br/>#!/bin/bash<br/>echo &#34;Enter the folder name: &#34;<br/>read&#160;folder_name<br/>if [ ! -d &#34;$folder_name&#34; ]; then<br/>echo &#34;Folder does not exist.&#34;<br/>exit&#160;1<br/>fi<br/>files=( &#34;$folder_name&#34;/* )<br/>for file in &#34;${files[@]}&#34;; do<br/>new_file_name=&#34;draft_$(basename&#160;&#34;$file&#34;)&#34;<br/>mv&#160;&#34;$file&#34;&#160;&#34;$new_file_name&#34;<br/>done<br/>echo &#34;Files renamed successfully.&#34;<br/>```</p>
<p style="position:absolute;top:735px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:736px;left:242px;white-space:nowrap" class="ft021">```python<br/>import&#160;os<br/>import&#160;shutil<br/># Get the folder name from the user<br/>folder_name = input(&#34;Enter the folder name: &#34;)<br/># Check if the folder exists<br/>if&#160;not&#160;os.path.isdir(folder_name):<br/>print(&#34;Folder does not exist.&#34;)<br/>&#160;&#160;&#160;&#160;exit(1)</p>
<p style="position:absolute;top:955px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 48 -->
<a name="48"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page48-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf048.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">48</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021"># Get a list of all files in the folder<br/>files&#160;=&#160;os.listdir(folder_name)<br/># Iterate over the files<br/>for file in files:<br/>&#160; &#160; # Create a new file name with the prefix &#34;draft_&#34;<br/>&#160; &#160; new_file_name&#160;=&#160;f&#34;draft_{file}&#34;<br/># Move the file to the new name<br/>shutil.move(os.path.join(folder_name,&#160;file),&#160;<br/>os.path.join(folder_name,&#160;new_file_name))<br/># Print a success message<br/>print(&#34;Files&#160;renamed&#160;successfully.&#34;)<br/>```</p>
<p style="position:absolute;top:507px;left:108px;white-space:nowrap" class="ft020">Table 18. A prompt for translating code from Bash to Python</p>
<p style="position:absolute;top:558px;left:108px;white-space:nowrap" class="ft011">Read and review the code. Copy the output from the prompt and paste it into a new file:&#160;<br/><b>file_renamer.py</b>. Test the code by opening a Terminal window, and execute the following&#160;<br/>command&#160;<b>python&#160;file_renamer.py.</b>&#160;</p>
<p style="position:absolute;top:666px;left:108px;white-space:nowrap" class="ft011"><b>NOTE:</b>&#160;When prompting for (Python) code in the Language Studio in Vertex AI, you will have&#160;<br/>to click on the ‘Markdown’ button. Otherwise you will receive plain text which is missing the&#160;<br/>proper indenting of lines, which is important for running Python code.</p>
<p style="position:absolute;top:798px;left:108px;white-space:nowrap" class="ft03"><b>Prompts for debugging and reviewing code</b></p>
<p style="position:absolute;top:855px;left:108px;white-space:nowrap" class="ft011">Let’s manually write some edits to the code of Table 18. It should prompt the user for the&#160;<br/>filename prefix, and write this prefix in upper case characters. See the example code in&#160;<br/>Snippet *3, but what a bummer. It now returns Python errors!</p>
</div>
<!-- Page 49 -->
<a name="49"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft043{font-size:14px;font-family:WGJRYK+RobotoMono;color:#2e7f98;}
	.ft044{font-size:14px;font-family:WGJRYK+RobotoMono;color:#7a612e;}
-->
</style>
<div id="page49-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf049.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">49</p>
<p style="position:absolute;top:214px;left:126px;white-space:nowrap" class="ft07"><b>Python</b></p>
<p style="position:absolute;top:263px;left:126px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:263px;left:177px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:263px;left:186px;white-space:nowrap" class="ft043">os</p>
<p style="position:absolute;top:283px;left:126px;white-space:nowrap" class="ft036">import</p>
<p style="position:absolute;top:283px;left:177px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:283px;left:186px;white-space:nowrap" class="ft043">shutil</p>
<p style="position:absolute;top:315px;left:126px;white-space:nowrap" class="ft037">folder_name</p>
<p style="position:absolute;top:315px;left:220px;white-space:nowrap" class="ft026">&#160;=&#160;</p>
<p style="position:absolute;top:315px;left:245px;white-space:nowrap" class="ft044">input</p>
<p style="position:absolute;top:315px;left:288px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:315px;left:297px;white-space:nowrap" class="ft038">&#34;Enter the folder name: &#34;</p>
<p style="position:absolute;top:315px;left:511px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:335px;left:126px;white-space:nowrap" class="ft037">prefix</p>
<p style="position:absolute;top:335px;left:177px;white-space:nowrap" class="ft026">&#160;=&#160;</p>
<p style="position:absolute;top:335px;left:203px;white-space:nowrap" class="ft044">input</p>
<p style="position:absolute;top:335px;left:245px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:335px;left:254px;white-space:nowrap" class="ft038">&#34;Enter the string to prepend to the filename: &#34;</p>
<p style="position:absolute;top:335px;left:656px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:354px;left:126px;white-space:nowrap" class="ft037">text</p>
<p style="position:absolute;top:354px;left:160px;white-space:nowrap" class="ft026">&#160;= toUpperCase</p>
<p style="position:absolute;top:354px;left:280px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:354px;left:288px;white-space:nowrap" class="ft037">prefix</p>
<p style="position:absolute;top:354px;left:340px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:386px;left:126px;white-space:nowrap" class="ft036">if</p>
<p style="position:absolute;top:386px;left:143px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:386px;left:151px;white-space:nowrap" class="ft039">not</p>
<p style="position:absolute;top:386px;left:177px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:386px;left:186px;white-space:nowrap" class="ft043">os</p>
<p style="position:absolute;top:386px;left:203px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:386px;left:211px;white-space:nowrap" class="ft037">path</p>
<p style="position:absolute;top:386px;left:245px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:386px;left:254px;white-space:nowrap" class="ft044">isdir</p>
<p style="position:absolute;top:386px;left:297px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:386px;left:305px;white-space:nowrap" class="ft037">folder_name</p>
<p style="position:absolute;top:386px;left:399px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:386px;left:408px;white-space:nowrap" class="ft026">:</p>
<p style="position:absolute;top:406px;left:126px;white-space:nowrap" class="ft026">&#160; &#160;&#160;</p>
<p style="position:absolute;top:406px;left:160px;white-space:nowrap" class="ft044">print</p>
<p style="position:absolute;top:406px;left:203px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:406px;left:211px;white-space:nowrap" class="ft038">&#34;Folder does not exist.&#34;</p>
<p style="position:absolute;top:406px;left:417px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:425px;left:126px;white-space:nowrap" class="ft026">&#160; &#160;&#160;</p>
<p style="position:absolute;top:425px;left:160px;white-space:nowrap" class="ft044">exit</p>
<p style="position:absolute;top:425px;left:194px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:425px;left:203px;white-space:nowrap" class="ft040">1</p>
<p style="position:absolute;top:425px;left:211px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:458px;left:126px;white-space:nowrap" class="ft037">files</p>
<p style="position:absolute;top:458px;left:169px;white-space:nowrap" class="ft026">&#160;=&#160;</p>
<p style="position:absolute;top:458px;left:194px;white-space:nowrap" class="ft043">os</p>
<p style="position:absolute;top:458px;left:211px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:458px;left:220px;white-space:nowrap" class="ft044">listdir</p>
<p style="position:absolute;top:458px;left:280px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:458px;left:288px;white-space:nowrap" class="ft037">folder_name</p>
<p style="position:absolute;top:458px;left:382px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:490px;left:126px;white-space:nowrap" class="ft036">for</p>
<p style="position:absolute;top:490px;left:151px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:490px;left:160px;white-space:nowrap" class="ft037">file</p>
<p style="position:absolute;top:490px;left:194px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:490px;left:203px;white-space:nowrap" class="ft036">in</p>
<p style="position:absolute;top:490px;left:220px;white-space:nowrap" class="ft026">&#160;</p>
<p style="position:absolute;top:490px;left:228px;white-space:nowrap" class="ft037">files</p>
<p style="position:absolute;top:490px;left:271px;white-space:nowrap" class="ft026">:</p>
<p style="position:absolute;top:509px;left:126px;white-space:nowrap" class="ft026">&#160; &#160;&#160;</p>
<p style="position:absolute;top:509px;left:160px;white-space:nowrap" class="ft037">new_filename</p>
<p style="position:absolute;top:509px;left:263px;white-space:nowrap" class="ft026">&#160;=&#160;</p>
<p style="position:absolute;top:509px;left:288px;white-space:nowrap" class="ft039">f</p>
<p style="position:absolute;top:509px;left:297px;white-space:nowrap" class="ft038">&#34;</p>
<p style="position:absolute;top:509px;left:305px;white-space:nowrap" class="ft039">{</p>
<p style="position:absolute;top:509px;left:314px;white-space:nowrap" class="ft037">text</p>
<p style="position:absolute;top:509px;left:348px;white-space:nowrap" class="ft039">}</p>
<p style="position:absolute;top:509px;left:357px;white-space:nowrap" class="ft038">_</p>
<p style="position:absolute;top:509px;left:365px;white-space:nowrap" class="ft039">{</p>
<p style="position:absolute;top:509px;left:374px;white-space:nowrap" class="ft037">file</p>
<p style="position:absolute;top:509px;left:408px;white-space:nowrap" class="ft039">}</p>
<p style="position:absolute;top:509px;left:416px;white-space:nowrap" class="ft038">&#34;</p>
<p style="position:absolute;top:542px;left:126px;white-space:nowrap" class="ft043">shutil</p>
<p style="position:absolute;top:542px;left:177px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:542px;left:186px;white-space:nowrap" class="ft044">move</p>
<p style="position:absolute;top:542px;left:220px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:542px;left:228px;white-space:nowrap" class="ft043">os</p>
<p style="position:absolute;top:542px;left:245px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:542px;left:254px;white-space:nowrap" class="ft037">path</p>
<p style="position:absolute;top:542px;left:288px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:542px;left:297px;white-space:nowrap" class="ft044">join</p>
<p style="position:absolute;top:542px;left:331px;white-space:nowrap" class="ft040">(</p>
<p style="position:absolute;top:542px;left:340px;white-space:nowrap" class="ft037">folder_name</p>
<p style="position:absolute;top:542px;left:434px;white-space:nowrap" class="ft026">,&#160;</p>
<p style="position:absolute;top:542px;left:451px;white-space:nowrap" class="ft037">file</p>
<p style="position:absolute;top:542px;left:485px;white-space:nowrap" class="ft040">)</p>
<p style="position:absolute;top:542px;left:493px;white-space:nowrap" class="ft026">,&#160;</p>
<p style="position:absolute;top:561px;left:126px;white-space:nowrap" class="ft043">os</p>
<p style="position:absolute;top:561px;left:143px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:561px;left:151px;white-space:nowrap" class="ft037">path</p>
<p style="position:absolute;top:561px;left:186px;white-space:nowrap" class="ft026">.</p>
<p style="position:absolute;top:561px;left:194px;white-space:nowrap" class="ft044">joi</p>
<p style="position:absolute;top:561px;left:220px;white-space:nowrap" class="ft040">(</p>
<p style="position:absolute;top:561px;left:228px;white-space:nowrap" class="ft037">folder_name</p>
<p style="position:absolute;top:561px;left:322px;white-space:nowrap" class="ft026">,&#160;</p>
<p style="position:absolute;top:561px;left:340px;white-space:nowrap" class="ft037">new_file_name</p>
<p style="position:absolute;top:561px;left:451px;white-space:nowrap" class="ft040">)</p>
<p style="position:absolute;top:561px;left:459px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:593px;left:126px;white-space:nowrap" class="ft044">print</p>
<p style="position:absolute;top:593px;left:169px;white-space:nowrap" class="ft039">(</p>
<p style="position:absolute;top:593px;left:177px;white-space:nowrap" class="ft038">&#34;Files renamed successfully.&#34;</p>
<p style="position:absolute;top:593px;left:425px;white-space:nowrap" class="ft039">)</p>
<p style="position:absolute;top:651px;left:108px;white-space:nowrap" class="ft020">Snippet 3. A broken Python script</p>
<p style="position:absolute;top:702px;left:108px;white-space:nowrap" class="ft05">Doh! That looks like a bug:</p>
<p style="position:absolute;top:767px;left:126px;white-space:nowrap" class="ft040">The below Python code gives an error:</p>
<p style="position:absolute;top:799px;left:126px;white-space:nowrap" class="ft041">Traceback (most recent call last):<br/>&#160; File “/Users/leeboonstra/Documents/test_folder/rename_files.py”, line 7,&#160;<br/>in &lt;module&gt;<br/>&#160; &#160; text = toUpperCase(prefix)<br/>NameError: name ‘toUpperCase’ is not defined</p>
<p style="position:absolute;top:930px;left:108px;white-space:nowrap" class="ft020">Snippet 4. I broke the Python code</p>
<p style="position:absolute;top:968px;left:108px;white-space:nowrap" class="ft011">Let’s see if we can ask the large language model to debug and review code. Have a look into&#160;<br/>Table 19:</p>
</div>
<!-- Page 50 -->
<a name="50"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page50-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf050.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">50</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">1_python_debug_code</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">Write a prompt to debug and review Python code.</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">gemini-pro</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">0.1</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">1024</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">N/A</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">1</p>
<p style="position:absolute;top:341px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft021">The below Python code gives an error:<br/>Traceback (most recent call last):<br/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;File&#160;&#34;/<br/>Users/leeboonstra/Documents/test_folder/rename_files.py&#34;,&#160;line&#160;<br/>7, in &lt;module&gt;<br/>&#160; &#160; text&#160;=&#160;toUpperCase(prefix)<br/>NameError: name 'toUpperCase' is not defined<br/>Debug what's wrong and explain how I can improve the code.<br/>```python<br/>import&#160;os<br/>import&#160;shutil<br/># Get the folder name from the user<br/>folder_name = input(&#34;Enter the folder name: &#34;)<br/>prefix = input(&#34;Enter the string to prepend to the filename: &#34;)<br/>text&#160;=&#160;toUpperCase(prefix)<br/># Check if the folder exists<br/>if&#160;not&#160;os.path.isdir(folder_name):<br/>&#160; &#160; print(&#34;Folder does not exist.&#34;)<br/>&#160;&#160;&#160;&#160;exit(1)<br/># Get a list of all files in the folder<br/>files&#160;=&#160;os.listdir(folder_name)<br/># Iterate over the files<br/>for file in files:</p>
<p style="position:absolute;top:897px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 51 -->
<a name="51"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page51-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf051.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:798px;white-space:nowrap" class="ft02">51</p>
<p style="position:absolute;top:202px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021"># Create a new file name with the prefix &#34;draft_&#34;<br/>&#160; &#160; new_filename&#160;=&#160;f&#34;{text}_{file}&#34;<br/># Move the file to the new name<br/>shutil.move(os.path.join(folder_name,&#160;file),&#160;<br/>os.path.join(folder_name,&#160;new_file_name))<br/># Print a success message<br/>print(&#34;Files&#160;renamed&#160;successfully.&#34;)<br/>```</p>
<p style="position:absolute;top:395px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:397px;left:242px;white-space:nowrap" class="ft017">The code calls the `toUpperCase` function to convert `prefix` to uppercase, but&#160;</p>
<p style="position:absolute;top:418px;left:242px;white-space:nowrap" class="ft017">that function is not defined. To fix this issue, you can use the `upper()` method of&#160;</p>
<p style="position:absolute;top:439px;left:242px;white-space:nowrap" class="ft017">the string class which converts a given string into uppercase. The modified code&#160;</p>
<p style="position:absolute;top:460px;left:242px;white-space:nowrap" class="ft017">is shown below:</p>
<p style="position:absolute;top:494px;left:242px;white-space:nowrap" class="ft021">```python<br/>import&#160;os<br/>import&#160;shutil<br/># Get the folder name from the user<br/>folder_name = input(&#34;Enter the folder name: &#34;)<br/>prefix = input(&#34;Enter the string to prepend to the filename: &#34;)<br/>text&#160;=&#160;prefix.upper()<br/># Check if the folder exists<br/>if&#160;not&#160;os.path.isdir(folder_name):<br/>&#160; &#160; print(&#34;Folder does not exist.&#34;)<br/>&#160;&#160;&#160;&#160;exit(1)<br/># Get a list of all files in the folder<br/>files&#160;=&#160;os.listdir(folder_name)<br/># Iterate over the files<br/>for file in files:<br/>&#160; &#160; # Create a new file name with the prefix &#34;draft_&#34;<br/>&#160; &#160; new_filename&#160;=&#160;f&#34;{text}_{file}&#34;<br/># Move the file to the new name<br/>shutil.move(os.path.join(folder_name,&#160;file),</p>
<p style="position:absolute;top:952px;left:606px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 52 -->
<a name="52"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page52-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf052.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">52</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021">os.path.join(folder_name,&#160;new_filename))<br/># Print a success message<br/>print(&#34;Files&#160;renamed&#160;successfully.&#34;)<br/>```</p>
<p style="position:absolute;top:307px;left:242px;white-space:nowrap" class="ft032">Additionally, there are a few other improvements that can be made to the code:<br/>1.&#160;&#160;The file extension of the new filenames is not kept. It’s better to extract the&#160;</p>
<p style="position:absolute;top:355px;left:263px;white-space:nowrap" class="ft017">extension from the original filename and append it to the new filename.</p>
<p style="position:absolute;top:382px;left:242px;white-space:nowrap" class="ft017">2.&#160;&#160;The code assumes that there are no spaces in the folder name. However,&#160;</p>
<p style="position:absolute;top:403px;left:263px;white-space:nowrap" class="ft017">it is a good practice to handle spaces gracefully by replacing them with&#160;</p>
<p style="position:absolute;top:424px;left:263px;white-space:nowrap" class="ft017">underscores&#160;or&#160;hyphens.</p>
<p style="position:absolute;top:452px;left:242px;white-space:nowrap" class="ft017">3.&#160;&#160;Using the `f` string syntax for string interpolation is more readable and&#160;</p>
<p style="position:absolute;top:473px;left:263px;white-space:nowrap" class="ft017">concise than the traditional `+` operator.</p>
<p style="position:absolute;top:500px;left:242px;white-space:nowrap" class="ft017">4.&#160;&#160;The code&#160;doesn’t handle&#160;errors that might occur during&#160;the renaming&#160;process.&#160;</p>
<p style="position:absolute;top:521px;left:263px;white-space:nowrap" class="ft017">It would be better to wrap the `shutil.move` call in a `try...except` block to&#160;</p>
<p style="position:absolute;top:542px;left:263px;white-space:nowrap" class="ft017">catch any potential errors.</p>
<p style="position:absolute;top:580px;left:242px;white-space:nowrap" class="ft017">Here is the improved code with these suggestions:</p>
<p style="position:absolute;top:615px;left:242px;white-space:nowrap" class="ft021">```python<br/>import&#160;os<br/>import&#160;shutil<br/># Get the folder name from the user<br/>folder_name = input(&#34;Enter the folder name: &#34;)<br/>prefix = input(&#34;Enter the string to prepend to the filename: &#34;)<br/># Check if the folder exists<br/>if&#160;not&#160;os.path.isdir(folder_name):<br/>&#160; &#160; print(&#34;Folder does not exist.&#34;)<br/>&#160;&#160;&#160;&#160;exit(1)<br/># Get a list of all files in the folder<br/>files&#160;=&#160;os.listdir(folder_name)<br/># Iterate over the files<br/>for file in files:</p>
<p style="position:absolute;top:922px;left:608px;white-space:nowrap" class="ft022"><b>Continues next page...</b></p>
</div>
<!-- Page 53 -->
<a name="53"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page53-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf053.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">53</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:206px;left:242px;white-space:nowrap" class="ft021">&#160; &#160; # Get the file extension<br/>&#160; &#160; ext&#160;=&#160;os.path.splitext(file)[1]<br/># Create a new file name with the prefix and the file extension<br/>&#160; &#160; new_filename&#160;=&#160;f&#34;{prefix}_{os.path.splitext(file)[0]}{ext}&#34;<br/># Build the full paths for the original and new files<br/>&#160; &#160; old_path = os.path.join(folder_name, file)<br/>&#160; &#160; new_path&#160;=&#160;os.path.join(folder_name,&#160;new_filename)<br/># Try to move the file<br/>&#160; &#160; try:<br/>&#160; &#160; &#160; &#160; shutil.move(old_path,&#160;new_path)<br/>except&#160;Exception&#160;as&#160;e:<br/>&#160; &#160; &#160; &#160; print(f&#34;An error occurred while moving the file&#160;<br/>{file}:&#160;{e}&#34;)<br/># Print a success message<br/>print(&#34;Files&#160;renamed&#160;successfully.&#34;)<br/>```</p>
<p style="position:absolute;top:593px;left:242px;white-space:nowrap" class="ft017">These improvements make the code more robust and flexible while also making&#160;</p>
<p style="position:absolute;top:614px;left:242px;white-space:nowrap" class="ft017">it easier to read and understand... (The response was truncated because&#160;</p>
<p style="position:absolute;top:635px;left:242px;white-space:nowrap" class="ft017">it has reached the token limit. Try to increase the token limit if you need a&#160;</p>
<p style="position:absolute;top:656px;left:242px;white-space:nowrap" class="ft017">longer&#160;response.)</p>
<p style="position:absolute;top:709px;left:108px;white-space:nowrap" class="ft020">Table 19. A prompt for debugging and reviewing Python code</p>
<p style="position:absolute;top:760px;left:108px;white-space:nowrap" class="ft011">That’s great. Not only did it tell me how to solve the problem, it also figured out that my code&#160;<br/>had more bugs and how to solve them, too. The last part of the prompt gave suggestions to&#160;<br/>improve the code in general.</p>
</div>
<!-- Page 54 -->
<a name="54"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page54-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf054.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">54</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft03"><b>What about multimodal prompting?</b></p>
<p style="position:absolute;top:255px;left:108px;white-space:nowrap" class="ft011">Prompting for code still uses the same regular large language model. Multimodal prompting&#160;<br/>is a separate concern, it refers to a technique where you use multiple input formats to guide&#160;<br/>a large language model, instead of just relying on text. This can include combinations of text,&#160;<br/>images, audio, code, or even other formats, depending on the model’s capabilities and the&#160;<br/>task at hand.&#160;</p>
<p style="position:absolute;top:439px;left:108px;white-space:nowrap" class="ft09"><b>Best&#160;Practices</b></p>
<p style="position:absolute;top:510px;left:108px;white-space:nowrap" class="ft011">Finding the right prompt requires tinkering. Language Studio in Vertex AI is a perfect place to&#160;<br/>play around with your prompts, with the ability to test against the various models.</p>
<p style="position:absolute;top:591px;left:108px;white-space:nowrap" class="ft05">Use the following best practices to become a pro in prompt engineering.</p>
<p style="position:absolute;top:666px;left:108px;white-space:nowrap" class="ft014"><b>Provide examples</b></p>
<p style="position:absolute;top:726px;left:108px;white-space:nowrap" class="ft011">The most important best practice is to provide (one shot / few shot) examples within a&#160;<br/>prompt. This is highly effective because it acts as a powerful teaching tool. These examples&#160;<br/>showcase desired outputs or similar responses, allowing the model to learn from them&#160;<br/>and tailor its own generation accordingly. It’s like giving the model a reference point or&#160;<br/>target to aim for, improving the accuracy, style, and tone of its response to better match&#160;<br/>your expectations.</p>
</div>
<!-- Page 55 -->
<a name="55"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft045{font-size:17px;line-height:26px;font-family:WGJRYK+RobotoMono;color:#202124;}
	.ft046{font-size:17px;line-height:26px;font-family:WGJRYK+GoogleSansText;color:#202124;}
-->
</style>
<div id="page55-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf055.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">55</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Design with simplicity</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">Prompts should be concise, clear, and easy to understand for both you and the model. As a&#160;<br/>rule of thumb, if it’s already confusing for you it will likely be also confusing for the model. Try&#160;<br/>not to use complex language and don’t provide unnecessary information.&#160;</p>
<p style="position:absolute;top:366px;left:108px;white-space:nowrap" class="ft05">Examples:</p>
<p style="position:absolute;top:406px;left:108px;white-space:nowrap" class="ft05">BEFORE:</p>
<p style="position:absolute;top:447px;left:108px;white-space:nowrap" class="ft045">I am visiting New York right now, and I'd like to hear more about great&#160;<br/>locations. I am with two 3 year old kids. Where should we go during&#160;<br/>our&#160;vacation?</p>
<p style="position:absolute;top:553px;left:108px;white-space:nowrap" class="ft05">AFTER&#160;REWRITE:</p>
<p style="position:absolute;top:594px;left:108px;white-space:nowrap" class="ft045">Act as a travel guide for tourists. Describe great places to visit in&#160;<br/>New York Manhattan with a 3 year old.</p>
<p style="position:absolute;top:669px;left:108px;white-space:nowrap" class="ft05">Try using verbs that describe the action. Here’s a set of examples:</p>
<p style="position:absolute;top:710px;left:108px;white-space:nowrap" class="ft046"><b>Act, Analyze, Categorize, Classify, Contrast, Compare, Create, Describe, Define,&#160;<br/>Evaluate, Extract, Find, Generate, Identify, List, Measure, Organize, Parse, Pick,&#160;<br/>Predict, Provide, Rank, Recommend, Return, Retrieve, Rewrite, Select, Show, Sort,&#160;<br/>Summarize, Translate, Write.</b></p>
</div>
<!-- Page 56 -->
<a name="56"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page56-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf056.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">56</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Be specific about the output</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">Be specific about the desired output. A concise instruction might not guide the LLM enough&#160;<br/>or could be too generic. Providing specific details in the prompt (through system or context&#160;<br/>prompting) can help the model to focus on what’s relevant, improving the overall accuracy.</p>
<p style="position:absolute;top:366px;left:108px;white-space:nowrap" class="ft05">Examples:</p>
<p style="position:absolute;top:406px;left:108px;white-space:nowrap" class="ft05">DO:&#160;</p>
<p style="position:absolute;top:447px;left:108px;white-space:nowrap" class="ft045">Generate a 3 paragraph blog post about the top 5 video game consoles.&#160;<br/>The blog post should be informative and engaging, and it should be&#160;<br/>written in a conversational style.</p>
<p style="position:absolute;top:549px;left:108px;white-space:nowrap" class="ft05">DO NOT:&#160;</p>
<p style="position:absolute;top:590px;left:108px;white-space:nowrap" class="ft034">Generate a blog post about video game consoles.</p>
<p style="position:absolute;top:663px;left:108px;white-space:nowrap" class="ft014"><b>Use&#160;Instructions&#160;over&#160;Constraints</b></p>
<p style="position:absolute;top:723px;left:108px;white-space:nowrap" class="ft05">Instructions and constraints are used in prompting to guide the output of a LLM.&#160;</p>
<p style="position:absolute;top:764px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;An&#160;<b>instruction</b>&#160;provides explicit instructions on the desired format, style, or content of the&#160;</p>
<p style="position:absolute;top:791px;left:129px;white-space:nowrap" class="ft05">response. It guides the model on what the model should do or produce.</p>
<p style="position:absolute;top:831px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;A&#160;<b>constraint</b>&#160;is a set of limitations or boundaries on the response. It limits what the model&#160;</p>
<p style="position:absolute;top:858px;left:129px;white-space:nowrap" class="ft05">should not do or avoid.</p>
</div>
<!-- Page 57 -->
<a name="57"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page57-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf057.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">57</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Growing research suggests that focusing on positive instructions in prompting can be more&#160;<br/>effective than relying heavily on constraints. This approach aligns with how humans prefer&#160;<br/>positive instructions over lists of what not to do.&#160;</p>
<p style="position:absolute;top:305px;left:108px;white-space:nowrap" class="ft011">Instructions directly communicate the desired outcome, whereas constraints might leave the&#160;<br/>model guessing about what is allowed. It gives flexibility and encourages creativity within the&#160;<br/>defined boundaries, while constraints can limit the model’s potential. Also a list of constraints&#160;<br/>can clash with each other.</p>
<p style="position:absolute;top:440px;left:108px;white-space:nowrap" class="ft011">Constraints are still valuable but in certain situations. To prevent the model from generating&#160;<br/>harmful or biased content or when a strict output format or style is needed.</p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">If possible, use positive instructions: instead of telling the model what not to do, tell it what to&#160;<br/>do instead. This can avoid confusion and improve the accuracy of the output.&#160;</p>
<p style="position:absolute;top:602px;left:108px;white-space:nowrap" class="ft05">DO:&#160;</p>
<p style="position:absolute;top:642px;left:108px;white-space:nowrap" class="ft045">Generate a 1 paragraph blog post about the top 5 video game consoles.&#160;<br/>Only discuss the console, the company who made it, the year, and total&#160;<br/>sales.&#160;</p>
<p style="position:absolute;top:744px;left:108px;white-space:nowrap" class="ft05">DO NOT:&#160;</p>
<p style="position:absolute;top:785px;left:108px;white-space:nowrap" class="ft045">Generate a 1 paragraph blog post about the top 5 video game consoles.&#160;<br/>Do not list video game names.</p>
<p style="position:absolute;top:864px;left:108px;white-space:nowrap" class="ft011">As a best practice, start by prioritizing instructions, clearly stating what you want the model&#160;<br/>to do and only use constraints when necessary for safety, clarity or specific requirements.&#160;<br/>Experiment and iterate to test different combinations of instructions and constraints to find&#160;<br/>what works best for your specific tasks, and document these.</p>
</div>
<!-- Page 58 -->
<a name="58"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft047{font-size:17px;font-family:WGJRYK+RobotoMono;color:#202124;}
-->
</style>
<div id="page58-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf058.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">58</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Control&#160;the&#160;max&#160;token&#160;length</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">To control the length of a generated LLM response, you can either set a max token limit in the&#160;<br/>configuration or explicitly request a specific length in your prompt. For example:</p>
<p style="position:absolute;top:339px;left:108px;white-space:nowrap" class="ft047"><i>&#34;Explain quantum physics in a tweet length message.&#34;</i></p>
<p style="position:absolute;top:413px;left:108px;white-space:nowrap" class="ft014"><b>Use variables in prompts</b></p>
<p style="position:absolute;top:472px;left:108px;white-space:nowrap" class="ft011">To reuse prompts and make it more dynamic use variables in the prompt, which can be&#160;<br/>changed for different inputs. E.g. as shown in Table 20, a prompt which gives facts about a&#160;<br/>city. Instead of hardcoding the city name in the prompt, use a variable. Variables can save&#160;<br/>you time and effort by allowing you to avoid repeating yourself. If you need to use the same&#160;<br/>piece of information in multiple prompts, you can store it in a variable and then reference&#160;<br/>that variable in each prompt. This makes a lot of sense when integrating prompts into your&#160;<br/>own applications.</p>
<p style="position:absolute;top:686px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:690px;left:242px;white-space:nowrap" class="ft021">VARIABLES<br/>{city} = &#34;Amsterdam&#34;<br/>PROMPT<br/>You are a travel guide. Tell me a fact about the city: {city}</p>
<p style="position:absolute;top:791px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:794px;left:242px;white-space:nowrap" class="ft017">Amsterdam is a beautiful city full of canals, bridges, and narrow streets. It’s a&#160;</p>
<p style="position:absolute;top:815px;left:242px;white-space:nowrap" class="ft017">great place to visit for its rich history, culture, and nightlife.</p>
<p style="position:absolute;top:864px;left:108px;white-space:nowrap" class="ft020">Table 20. Using variables in prompts</p>
</div>
<!-- Page 59 -->
<a name="59"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page59-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf059.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">59</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Experiment with input formats and writing styles</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">Different models, model configurations, prompt formats, word choices, and submits can yield&#160;<br/>different results. Therefore, it’s important to experiment with prompt attributes like the style,&#160;<br/>the word choice, and the type prompt (zero shot, few shot, system prompt).</p>
<p style="position:absolute;top:366px;left:108px;white-space:nowrap" class="ft011">For example a prompt with the goal to generate text about the revolutionary video game&#160;<br/>console Sega Dreamcast, can be formulated as a&#160;<b>question</b>, a&#160;<b>statement</b>&#160;or an&#160;<b>instruction</b>,&#160;<br/>resulting in different outputs:</p>
<p style="position:absolute;top:460px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Question:&#160;</b>What was the Sega Dreamcast and why was it such a revolutionary console?</p>
<p style="position:absolute;top:501px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Statement:&#160;</b>The Sega Dreamcast was a sixth-generation video game console released by&#160;</p>
<p style="position:absolute;top:528px;left:129px;white-space:nowrap" class="ft05">Sega in 1999. It...</p>
<p style="position:absolute;top:568px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;<b>Instruction:&#160;</b>Write a single paragraph that describes the Sega Dreamcast console and&#160;</p>
<p style="position:absolute;top:595px;left:129px;white-space:nowrap" class="ft05">explains why it was so revolutionary.</p>
<p style="position:absolute;top:670px;left:108px;white-space:nowrap" class="ft014"><b>For few-shot prompting with classification tasks, mix up&#160;</b></p>
<p style="position:absolute;top:697px;left:108px;white-space:nowrap" class="ft014"><b>the&#160;classes</b></p>
<p style="position:absolute;top:757px;left:108px;white-space:nowrap" class="ft011">Generally speaking, the order of your few-shots examples should not matter much. However,&#160;<br/>when doing classification tasks, make sure you mix up the possible response classes in the&#160;<br/>few&#160;shot&#160;examples.&#160;This&#160;is&#160;because&#160;you&#160;might&#160;otherwise&#160;be&#160;overfitting&#160;to&#160;the&#160;specific&#160;order&#160;of&#160;<br/>the examples. By mixing up the possible response classes, you can ensure that the model is&#160;<br/>learning to identify the key features of each class, rather than simply memorizing the order of&#160;<br/>the examples. This will lead to more robust and generalizable performance on unseen data.</p>
</div>
<!-- Page 60 -->
<a name="60"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page60-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf060.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:795px;white-space:nowrap" class="ft02">60</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">A good rule of thumb is to start with 6 few shot examples and start testing the accuracy&#160;<br/>from&#160;there.</p>
<p style="position:absolute;top:299px;left:108px;white-space:nowrap" class="ft014"><b>Adapt to model updates</b></p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft011">It’s important for you to stay on top of model architecture changes, added data, and&#160;<br/>capabilities. Try out newer model versions and adjust your prompts to better leverage new&#160;<br/>model features. Tools like Vertex AI Studio are great to store, test, and document the various&#160;<br/>versions of your prompt.</p>
<p style="position:absolute;top:515px;left:108px;white-space:nowrap" class="ft014"><b>Experiment with output formats</b></p>
<p style="position:absolute;top:575px;left:108px;white-space:nowrap" class="ft011">Besides the prompt input format, consider experimenting with the output format. For non-<br/>creative tasks like extracting, selecting, parsing, ordering, ranking, or categorizing data try&#160;<br/>having your output returned in a structured format like JSON or XML.&#160;</p>
<p style="position:absolute;top:683px;left:108px;white-space:nowrap" class="ft011">There are some benefits in returning JSON objects from a prompt that extracts data. In&#160;<br/>a real-world application I don’t need to manually create this JSON format, I can already&#160;<br/>return the data in a sorted order (very handy when working with datetime objects), but most&#160;<br/>importantly, by prompting for a JSON format it forces the model to create a structure and&#160;<br/>limit&#160;hallucinations.</p>
<p style="position:absolute;top:845px;left:108px;white-space:nowrap" class="ft05">In summary, benefits of using JSON for your output:</p>
<p style="position:absolute;top:899px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Returns always in the same style</p>
<p style="position:absolute;top:939px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Focus on the data you want to receive</p>
</div>
<!-- Page 61 -->
<a name="61"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft048{font-size:17px;font-family:WGJRYK+RobotoMono;color:#188038;}
-->
</style>
<div id="page61-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf061.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:799px;white-space:nowrap" class="ft02">61</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Less chance for hallucinations</p>
<p style="position:absolute;top:237px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Make it relationship aware</p>
<p style="position:absolute;top:278px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;You get data types</p>
<p style="position:absolute;top:318px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;You can sort it</p>
<p style="position:absolute;top:372px;left:108px;white-space:nowrap" class="ft011">Table 4 in the few-shot prompting section shows an example on how to return&#160;<br/>structured&#160;output.</p>
<p style="position:absolute;top:474px;left:108px;white-space:nowrap" class="ft014"><b>JSON&#160;Repair</b></p>
<p style="position:absolute;top:534px;left:108px;white-space:nowrap" class="ft011">While returning data in JSON format offers numerous advantages, it's not without its&#160;<br/>drawbacks. The structured nature of JSON, while beneficial for parsing and use in&#160;<br/>applications, requires significantly more tokens than plain text, leading to increased&#160;<br/>processing time and higher costs. Furthermore, JSON's verbosity can easily consume the&#160;<br/>entire output window, becoming especially problematic when the generation is abruptly cut&#160;<br/>off due to token limits. This truncation often results in invalid JSON, missing crucial closing&#160;<br/>braces or brackets, rendering the output unusable. Fortunately, tools like the&#160;</p>
<p style="position:absolute;top:696px;left:687px;white-space:nowrap" class="ft048">json-repair</p>
<p style="position:absolute;top:696px;left:792px;white-space:nowrap" class="ft05">&#160;</p>
<p style="position:absolute;top:723px;left:108px;white-space:nowrap" class="ft011">library (available on PyPI) can be invaluable in these situations. This library intelligently&#160;<br/>attempts to automatically fix incomplete or malformed JSON objects, making it a crucial&#160;<br/>ally when working with LLM-generated JSON, especially when dealing with potential&#160;<br/>truncation issues.</p>
</div>
<!-- Page 62 -->
<a name="62"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page62-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf062.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">62</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>Working&#160;with&#160;Schemas</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">Using structured JSON as an output is a great solution, as we've seen multiple times in this&#160;<br/>paper. But what about&#160;<i>input</i>? While JSON is excellent for structuring the&#160;<i>output</i>&#160;the&#160;LLM&#160;<br/>generates, it can also be incredibly useful for structuring the&#160;<i>input</i>&#160;you provide. This is where&#160;<br/>JSON Schemas come into play. A JSON Schema defines the expected structure and data&#160;<br/>types of your JSON input. By providing a schema, you give the LLM a clear blueprint of the&#160;<br/>data it should expect, helping it focus its&#160;<i>attention</i>&#160;on the relevant information and reducing&#160;<br/>the risk of misinterpreting the input. Furthermore, schemas can help establish relationships&#160;<br/>between different pieces of data and even make the LLM &#34;time-aware&#34; by including date or&#160;<br/>timestamp fields with specific formats.</p>
<p style="position:absolute;top:528px;left:108px;white-space:nowrap" class="ft05">Here's a simple example:</p>
<p style="position:absolute;top:582px;left:108px;white-space:nowrap" class="ft011">Let's say you want to use an LLM to generate descriptions for products in an e-commerce&#160;<br/>catalog. Instead of just providing a free-form text description of the product, you can use a&#160;<br/>JSON schema to define the product's attributes:</p>
<p style="position:absolute;top:1023px;left:108px;white-space:nowrap" class="ft020">Snippet 5. Definition of the structured output schema</p>
<p style="position:absolute;top:690px;left:126px;white-space:nowrap" class="ft041">{<br/>&#160; &#34;type&#34;: &#34;object&#34;,<br/>&#160; &#34;properties&#34;: {<br/>&#160; &#160; &#34;name&#34;: { &#34;type&#34;: &#34;string&#34;, &#34;description&#34;: &#34;Product name&#34; },<br/>&#160; &#160; &#34;category&#34;: { &#34;type&#34;: &#34;string&#34;, &#34;description&#34;: &#34;Product category&#34; },<br/>&#160; &#160; &#34;price&#34;: { &#34;type&#34;: &#34;number&#34;, &#34;format&#34;: &#34;float&#34;, &#34;description&#34;: &#34;Product&#160;<br/>price&#34; },<br/>&#160; &#160; &#34;features&#34;: {<br/>&#160; &#160; &#160; &#34;type&#34;: &#34;array&#34;,<br/>&#160; &#160; &#160; &#34;items&#34;: { &#34;type&#34;: &#34;string&#34; },<br/>&#160; &#160; &#160; &#34;description&#34;: &#34;Key features of the product&#34;<br/>&#160; &#160; },<br/>&#160; &#160; &#34;release_date&#34;: { &#34;type&#34;: &#34;string&#34;, &#34;format&#34;: &#34;date&#34;, &#34;description&#34;:&#160;<br/>&#34;Date the product was released&#34;}<br/>&#160; },</p>
</div>
<!-- Page 63 -->
<a name="63"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page63-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf063.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">63</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">Then, you can provide the actual product data as a JSON object that conforms to&#160;<br/>this schema:</p>
<p style="position:absolute;top:437px;left:108px;white-space:nowrap" class="ft020">Snippet 6. Structured output from the LLM</p>
<p style="position:absolute;top:488px;left:108px;white-space:nowrap" class="ft011">By preprocessing your data and instead of providing full documents only providing both the&#160;<br/>schema and the data, you give the LLM a clear understanding of the product's attributes,&#160;<br/>including its release date, making it much more likely to generate an accurate and relevant&#160;<br/>description. This structured input approach, guiding the LLM's attention to the relevant fields,&#160;<br/>is especially valuable when working with large volumes of data or when integrating LLMs into&#160;<br/>complex applications.</p>
<p style="position:absolute;top:698px;left:108px;white-space:nowrap" class="ft014"><b>Experiment together with other prompt engineers</b></p>
<p style="position:absolute;top:758px;left:108px;white-space:nowrap" class="ft011">If you are in a situation where you have to try to come up with a good prompt, you might&#160;<br/>want to find multiple people to make an attempt. When everyone follows the best practices&#160;<br/>(as listed in this chapter) you are going to see a variance in performance between all the&#160;<br/>different prompt attempts.</p>
<p style="position:absolute;top:271px;left:126px;white-space:nowrap" class="ft041">{<br/>&#160; &#34;name&#34;: &#34;Wireless Headphones&#34;,<br/>&#160; &#34;category&#34;: &#34;Electronics&#34;,<br/>&#160; &#34;price&#34;: 99.99,<br/>&#160; &#34;features&#34;:&#160;[&#34;Noise&#160;cancellation&#34;,&#160;&#34;Bluetooth&#160;5.0&#34;,&#160;&#34;20-hour&#160;battery&#160;life&#34;],<br/>&#160; &#34;release_date&#34;: &#34;2023-10-27&#34;<br/>}</p>
</div>
<!-- Page 64 -->
<a name="64"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page64-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf064.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">64</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft014"><b>CoT Best practices</b></p>
<p style="position:absolute;top:258px;left:108px;white-space:nowrap" class="ft011">For CoT prompting, putting the answer after the reasoning is required because the&#160;<br/>generation of the reasoning changes the tokens that the model gets when it predicts the&#160;<br/>final answer.</p>
<p style="position:absolute;top:366px;left:108px;white-space:nowrap" class="ft011">With CoT and self-consistency you need to be able to extract the final answer from your&#160;<br/>prompt, separated from the reasoning.&#160;</p>
<p style="position:absolute;top:447px;left:108px;white-space:nowrap" class="ft05">For CoT prompting, set the temperature to 0.</p>
<p style="position:absolute;top:501px;left:108px;white-space:nowrap" class="ft011">Chain of thought prompting is based on greedy decoding, predicting the next word in a&#160;<br/>sequence based on the highest probability assigned by the language model. Generally&#160;<br/>speaking, when using reasoning, to come up with the final answer, there’s likely one single&#160;<br/>correct answer. Therefore the temperature should always set to 0.&#160;</p>
<p style="position:absolute;top:657px;left:108px;white-space:nowrap" class="ft014"><b>Document the various prompt attempts</b></p>
<p style="position:absolute;top:717px;left:108px;white-space:nowrap" class="ft011">The last tip was mentioned before in this chapter, but we can’t stress enough how important&#160;<br/>it is: document your prompt attempts in full detail so you can learn over time what went well&#160;<br/>and what did not.&#160;</p>
<p style="position:absolute;top:825px;left:108px;white-space:nowrap" class="ft011">Prompt outputs can differ across models, across sampling settings, and even across different&#160;<br/>versions of the same model. Moreover, even across identical prompts to the same model,&#160;<br/>small differences in output sentence formatting and word choice can occur. (For example, as&#160;<br/>mentioned previously, if two tokens have the same predicted probability, ties may be broken&#160;<br/>randomly. This can then impact subsequent predicted tokens.).</p>
</div>
<!-- Page 65 -->
<a name="65"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page65-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf065.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">65</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft011">We recommend creating a Google Sheet with Table 21 as a template. The advantages of&#160;<br/>this approach are that you have a complete record when you inevitably have to revisit your&#160;<br/>prompting work–either to pick it up in the future (you’d be surprised how much you can&#160;<br/>forget after just a short break), to test prompt performance on different versions of a model,&#160;<br/>and to help debug future errors.</p>
<p style="position:absolute;top:359px;left:108px;white-space:nowrap" class="ft011">Beyond the fields in this table, it’s also helpful to track the version of the prompt (iteration),&#160;<br/>a field to capture if the result was OK/NOT OK/SOMETIMES OK, and a field to capture&#160;<br/>feedback. If you’re lucky enough to be using Vertex AI Studio, save your prompts (using the&#160;<br/>same name and version as listed in your documentation) and track the hyperlink to the saved&#160;<br/>prompt in the table. This way, you’re always one click away from re-running your prompts.</p>
<p style="position:absolute;top:521px;left:108px;white-space:nowrap" class="ft011">When working on a&#160;<i>retrieval&#160;augmented&#160;generation&#160;</i>system, you should also capture the&#160;<br/>specific aspects of the RAG system that impact what content was inserted into the prompt,&#160;<br/>including the query, chunk settings, chunk output, and other information.</p>
<p style="position:absolute;top:629px;left:108px;white-space:nowrap" class="ft011">Once you feel the prompt is close to perfect, take it to your project codebase. And in the&#160;<br/>codebase, save prompts in a separate file from code, so it’s easier to maintain. Finally, ideally&#160;<br/>your prompts are part of an operationalized system, and as a prompt engineer you should&#160;<br/>rely on automated tests and evaluation procedures to understand how well your prompt&#160;<br/>generalizes to a task.</p>
<p style="position:absolute;top:791px;left:108px;white-space:nowrap" class="ft011">Prompt engineering is an iterative process. Craft and test different prompts, analyze,&#160;<br/>and document the results. Refine your prompt based on the model’s performance. Keep&#160;<br/>experimenting until you achieve the desired output. When you change a model or model&#160;<br/>configuration, go back and keep experimenting with the previously used prompts.</p>
</div>
<!-- Page 66 -->
<a name="66"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page66-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf066.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">66</p>
<p style="position:absolute;top:204px;left:119px;white-space:nowrap" class="ft016">Name</p>
<p style="position:absolute;top:204px;left:242px;white-space:nowrap" class="ft017">[name and version of your prompt]</p>
<p style="position:absolute;top:232px;left:119px;white-space:nowrap" class="ft016">Goal</p>
<p style="position:absolute;top:232px;left:242px;white-space:nowrap" class="ft017">[One sentence explanation of the goal of this attempt]</p>
<p style="position:absolute;top:259px;left:119px;white-space:nowrap" class="ft016">Model</p>
<p style="position:absolute;top:259px;left:242px;white-space:nowrap" class="ft017">[name and version of the used model]</p>
<p style="position:absolute;top:286px;left:119px;white-space:nowrap" class="ft016">Temperature</p>
<p style="position:absolute;top:286px;left:242px;white-space:nowrap" class="ft017">[value between 0 - 1]</p>
<p style="position:absolute;top:286px;left:434px;white-space:nowrap" class="ft018">Token&#160;Limit</p>
<p style="position:absolute;top:286px;left:638px;white-space:nowrap" class="ft017">[number]</p>
<p style="position:absolute;top:313px;left:119px;white-space:nowrap" class="ft018">Top-K</p>
<p style="position:absolute;top:313px;left:242px;white-space:nowrap" class="ft017">[number]</p>
<p style="position:absolute;top:313px;left:434px;white-space:nowrap" class="ft018">Top-P</p>
<p style="position:absolute;top:313px;left:638px;white-space:nowrap" class="ft017">[number]</p>
<p style="position:absolute;top:342px;left:119px;white-space:nowrap" class="ft018">Prompt</p>
<p style="position:absolute;top:342px;left:242px;white-space:nowrap" class="ft019">[Write all the full prompt]</p>
<p style="position:absolute;top:371px;left:119px;white-space:nowrap" class="ft018">Output</p>
<p style="position:absolute;top:371px;left:242px;white-space:nowrap" class="ft017">[Write&#160;out&#160;the&#160;output&#160;or&#160;multiple&#160;outputs]</p>
<p style="position:absolute;top:418px;left:108px;white-space:nowrap" class="ft020">Table 21. A template for documenting prompts</p>
<p style="position:absolute;top:490px;left:108px;white-space:nowrap" class="ft09"><b>Summary</b></p>
<p style="position:absolute;top:562px;left:108px;white-space:nowrap" class="ft011">This whitepaper discusses prompt engineering. We learned various prompting techniques,&#160;<br/>such as:</p>
<p style="position:absolute;top:629px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Zero&#160;prompting</p>
<p style="position:absolute;top:670px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Few shot prompting</p>
<p style="position:absolute;top:710px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;System&#160;prompting</p>
<p style="position:absolute;top:751px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Role prompting</p>
<p style="position:absolute;top:791px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Contextual prompting</p>
<p style="position:absolute;top:832px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Step-back&#160;prompting</p>
<p style="position:absolute;top:872px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Chain of thought</p>
<p style="position:absolute;top:913px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Self&#160;consistency</p>
<p style="position:absolute;top:953px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;Tree of thoughts</p>
</div>
<!-- Page 67 -->
<a name="67"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}-->
</style>
<div id="page67-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf067.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:797px;white-space:nowrap" class="ft02">67</p>
<p style="position:absolute;top:197px;left:108px;white-space:nowrap" class="ft05">•&#160;&#160;ReAct</p>
<p style="position:absolute;top:251px;left:108px;white-space:nowrap" class="ft05">We even looked into ways how you can automate your prompts.&#160;</p>
<p style="position:absolute;top:305px;left:108px;white-space:nowrap" class="ft011">The whitepaper then discusses the challenges of gen AI like the problems that can happen&#160;<br/>when&#160;your&#160;prompts&#160;are&#160;insufficient.&#160;We&#160;closed&#160;with&#160;best&#160;practices&#160;on&#160;how&#160;to&#160;become&#160;a&#160;better&#160;<br/>prompt engineer.</p>
</div>
<!-- Page 68 -->
<a name="68"></a>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft049{font-size:14px;font-family:WGJRYK+GoogleSansText-Medium;color:#1967d2;}
	.ft050{font-size:14px;font-family:ZENJOE+GoogleSansText-Medium;color:#1967d2;}
-->
</style>
<div id="page68-div" style="position:relative;width:918px;height:1188px;">
<img width="918" height="1188" src="22365_3_Prompt Engineering_v7.pdf068.png" alt="background image"/>
<p style="position:absolute;top:86px;left:108px;white-space:nowrap" class="ft02">Prompt&#160;Engineering</p>
<p style="position:absolute;top:1076px;left:108px;white-space:nowrap" class="ft02">February&#160;2025</p>
<p style="position:absolute;top:1076px;left:796px;white-space:nowrap" class="ft02">68</p>
<p style="position:absolute;top:198px;left:108px;white-space:nowrap" class="ft03"><b>Endnotes</b></p>
<p style="position:absolute;top:252px;left:108px;white-space:nowrap" class="ft027">1.&#160;&#160;Google, 2023, Gemini by Google. Available at:&#160;</p>
<p style="position:absolute;top:252px;left:417px;white-space:nowrap" class="ft049"><a href="https://gemini.google.com">https://gemini.google.com</a></p>
<p style="position:absolute;top:252px;left:586px;white-space:nowrap" class="ft027"><a href="https://gemini.google.com">.</a></p>
<p style="position:absolute;top:287px;left:108px;white-space:nowrap" class="ft027">2.&#160;&#160;Google, 2024, Gemini for Google Workspace Prompt Guide. Available at:&#160;&#160;</p>
<p style="position:absolute;top:308px;left:108px;white-space:nowrap" class="ft049"><a href="https://inthecloud.withgoogle.com/gemini-for-google-workspace-prompt-guide/dl-cd.html">https://inthecloud.withgoogle.com/gemini-for-google-workspace-prompt-guide/dl-cd.html</a></p>
<p style="position:absolute;top:308px;left:698px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:342px;left:108px;white-space:nowrap" class="ft027">3.&#160;&#160;Google Cloud, 2023, Introduction to Prompting. Available at:&#160;&#160;</p>
<p style="position:absolute;top:363px;left:108px;white-space:nowrap" class="ft049"><a href="https://cloud.google.com/vertex-ai/generative-ai/docs/learn/prompts/introduction-prompt-design">https://cloud.google.com/vertex-ai/generative-ai/docs/learn/prompts/introduction-prompt-design</a></p>
<p style="position:absolute;top:363px;left:746px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:398px;left:108px;white-space:nowrap" class="ft027">4.&#160;&#160;Google Cloud, 2023, Text Model Request Body: Top-P &amp; top-K sampling methods. Available at:&#160;&#160;</p>
<p style="position:absolute;top:419px;left:108px;white-space:nowrap" class="ft049"><a href="https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/text#request_body">https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/text#request_body</a></p>
<p style="position:absolute;top:419px;left:704px;white-space:nowrap" class="ft027"><a href="https://cloud.google.com/vertex-ai/docs/generative-ai/model-reference/text#request_body">.</a></p>
<p style="position:absolute;top:453px;left:108px;white-space:nowrap" class="ft027">5.&#160;&#160;Wei, J., et al., 2023, Zero Shot - Fine Tuned language models are zero shot learners. Available at:&#160;&#160;</p>
<p style="position:absolute;top:474px;left:108px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2109.01652.pdf">https://arxiv.org/pdf/2109.01652.pdf</a></p>
<p style="position:absolute;top:474px;left:340px;white-space:nowrap" class="ft027"><a href="https://arxiv.org/pdf/2109.01652.pdf">.</a></p>
<p style="position:absolute;top:509px;left:108px;white-space:nowrap" class="ft027">6.&#160;&#160;Google Cloud, 2023, Google Cloud Model Garden. Available at<a href="https://cloud.google.com/model-garden">:&#160;</a></p>
<p style="position:absolute;top:509px;left:524px;white-space:nowrap" class="ft049"><a href="https://cloud.google.com/model-garden">https://cloud.google.com/model-garden</a></p>
<p style="position:absolute;top:509px;left:783px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:543px;left:108px;white-space:nowrap" class="ft027">7.&#160;&#160;Brown, T., et al., 2023, Few Shot - Language Models are Few Shot learners. Available at:&#160;&#160;</p>
<p style="position:absolute;top:564px;left:108px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2005.14165.pdf">https://arxiv.org/pdf/2005.14165.pdf</a></p>
<p style="position:absolute;top:564px;left:340px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:599px;left:108px;white-space:nowrap" class="ft029">8.&#160;&#160;Zheng, L., et al., 2023, Take a Step Back: Evoking Reasoning via Abstraction in Large Language Models.&#160;<br/>Available at:&#160;</p>
<p style="position:absolute;top:620px;left:187px;white-space:nowrap" class="ft049"><a href="https://openreview.net/pdf?id=3bq3jsvcQ1 ">https://openreview.net/pdf?id=3bq3jsvcQ1</a></p>
<p style="position:absolute;top:654px;left:108px;white-space:nowrap" class="ft027">9.&#160;&#160;Wei, J., et al., 2023, Chain of Thought Prompting. Available at<a href="https://arxiv.org/pdf/2201.11903.pdf">:&#160;</a></p>
<p style="position:absolute;top:654px;left:515px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2201.11903.pdf">https://arxiv.org/pdf/2201.11903.pdf</a></p>
<p style="position:absolute;top:654px;left:744px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:689px;left:108px;white-space:nowrap" class="ft027">10.&#160;Google Cloud Platform, 2023, Chain of Thought and React. Available at<a href="https://github.com/GoogleCloudPlatform/generative-ai/blob/main/language/prompts/examples/chain_of_thought_react.ipynb">:&#160;</a></p>
<p style="position:absolute;top:689px;left:577px;white-space:nowrap" class="ft049"><a href="https://github.com/GoogleCloudPlatform/generative-ai/blob/main/language/prompts/examples/chain_of_thought_react.ipynb">https://github.com/&#160;</a></p>
<p style="position:absolute;top:710px;left:108px;white-space:nowrap" class="ft049"><a href="https://github.com/GoogleCloudPlatform/generative-ai/blob/main/language/prompts/examples/chain_of_thought_react.ipynb">GoogleCloudPlatform/generative-ai/blob/main/language/prompts/examples/chain_of_thought_react.ipynb</a></p>
<p style="position:absolute;top:710px;left:798px;white-space:nowrap" class="ft027">.&#160;</p>
<p style="position:absolute;top:744px;left:108px;white-space:nowrap" class="ft029">11.&#160;&#160;Wang, X., et al., 2023, Self Consistency Improves Chain of Thought reasoning in language models.&#160;&#160;<br/>Available at:&#160;</p>
<p style="position:absolute;top:765px;left:187px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2203.11171.pdf">https://arxiv.org/pdf/2203.11171.pdf</a></p>
<p style="position:absolute;top:765px;left:411px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:800px;left:108px;white-space:nowrap" class="ft029">12.&#160;&#160;Yao, S., et al., 2023, Tree of Thoughts: Deliberate Problem Solving with Large Language Models.&#160;&#160;<br/>Available at:&#160;</p>
<p style="position:absolute;top:821px;left:187px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2305.10601.pdf">https://arxiv.org/pdf/2305.10601.pdf</a></p>
<p style="position:absolute;top:821px;left:420px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:855px;left:108px;white-space:nowrap" class="ft027">13.&#160;&#160;Yao, S., et al., 2023, ReAct: Synergizing Reasoning and Acting in Language Models. Available at:&#160;&#160;</p>
<p style="position:absolute;top:876px;left:108px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2210.03629.pdf">https://arxiv.org/pdf/2210.03629.pdf</a></p>
<p style="position:absolute;top:876px;left:341px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:911px;left:108px;white-space:nowrap" class="ft027">14.&#160;&#160;Google Cloud Platform, 2023, Advance Prompting: Chain of Thought and React. Available at:&#160;</p>
<p style="position:absolute;top:932px;left:108px;white-space:nowrap" class="ft049"><a href="https://github.com/GoogleCloudPlatform/applied-ai-engineering-samples/blob/main/genai-on-vertex-ai/advanced_prompting_training/cot_react.ipynb">https://github.com/GoogleCloudPlatform/applied-ai-engineering-samples/blob/main/genai-&#160;</a></p>
<p style="position:absolute;top:932px;left:706px;white-space:nowrap" class="ft050"><a href="https://github.com/GoogleCloudPlatform/applied-ai-engineering-samples/blob/main/genai-on-vertex-ai/advanced_prompting_training/cot_react.ipynb">&#160;</a></p>
<p style="position:absolute;top:953px;left:108px;white-space:nowrap" class="ft049"><a href="https://github.com/GoogleCloudPlatform/applied-ai-engineering-samples/blob/main/genai-on-vertex-ai/advanced_prompting_training/cot_react.ipynb">on-vertex-ai/advanced_prompting_training/cot_react.ipynb</a></p>
<p style="position:absolute;top:953px;left:495px;white-space:nowrap" class="ft027">.</p>
<p style="position:absolute;top:987px;left:108px;white-space:nowrap" class="ft029">15.&#160;&#160;Zhou, C., et al., 2023, Automatic Prompt Engineering - Large Language Models are Human-Level Prompt&#160;<br/>Engineers. Available at:&#160;</p>
<p style="position:absolute;top:1008px;left:256px;white-space:nowrap" class="ft049"><a href="https://arxiv.org/pdf/2211.01910.pdf">https://arxiv.org/pdf/2211.01910.pdf</a></p>
<p style="position:absolute;top:1008px;left:483px;white-space:nowrap" class="ft027"><a href="https://arxiv.org/pdf/2211.01910.pdf">.</a></p>
</div>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#6">Introduction</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#7">Prompt engineering</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#8">LLM output configuration</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#8">Output length</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#9">Sampling controls</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#9">Temperature</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#10">Top-K and top-P</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#11">Putting it all together</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#13">Prompting techniques</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#13">General prompting / zero shot</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#15">One-shot &amp; few-shot</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#18">System, contextual and role prompting</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#19">System prompting</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#21">Role prompting</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#23">Contextual prompting</a></li>
</ul>
</li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#25">Step-back prompting</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#29">Chain of Thought (CoT)</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#32">Self-consistency</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#36">Tree of Thoughts (ToT)</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#37">ReAct (reason &amp; act)</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#40">Automatic Prompt Engineering</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#42">Code prompting</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#42">Prompts for writing code</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#44">Prompts for explaining code</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#46">Prompts for translating code</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#48">Prompts for debugging and reviewing code</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#54">What about multimodal prompting?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#54">Best Practices</a>
<ul>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#54">Provide examples</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#55">Design with simplicity</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#56">Be specific about the output</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#56">Use Instructions over Constraints</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#58">Control the max token length</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#58">Use variables in prompts</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#59">Experiment with input formats and writing styles</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#59">For few-shot prompting with classification tasks, mix up the classes</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#60">Adapt to model updates</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#60">Experiment with output formats</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#61">JSON Repair</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#62">Working with Schemas</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#63">Experiment together with other prompt engineers</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#64">CoT Best practices</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#64">Document the various prompt attempts</a></li>
</ul>
</li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#66">Summary</a></li>
<li><a href="22365_3_Prompt Engineering_v7.pdf.html#68">Endnotes</a></li>
</ul>
</body>
</html>
